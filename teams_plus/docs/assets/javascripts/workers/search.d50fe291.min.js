"use strict";(()=>{var e,t,r=Object.create,n=Object.defineProperty,i=Object.defineProperties,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,u=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,d=Math.pow,f=(e,t,r)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t)=>{for(var r in t||(t={}))c.call(t,r)&&f(e,r,t[r]);if(l)for(var r of l(t))h.call(t,r)&&f(e,r,t[r]);return e},y=(e,t)=>i(e,o(t)),m=(e,t,r)=>new Promise(((n,i)=>{var s=e=>{try{a(r.next(e))}catch(e){i(e)}},o=e=>{try{a(r.throw(e))}catch(e){i(e)}},a=e=>e.done?n(e.value):Promise.resolve(e.value).then(s,o);a((r=r.apply(e,t)).next())})),g=(e=(e,t)=>{
/**
 * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 2.3.9
 * Copyright (C) 2020 Oliver Nightingale
 * @license MIT
 */
!function(){var r,n=function(e){var t=new n.Builder;return t.pipeline.add(n.trimmer,n.stopWordFilter,n.stemmer),t.searchPipeline.add(n.stemmer),e.call(t,t),t.build()};n.version="2.3.9",
/*!
 * lunr.utils
 * Copyright (C) 2020 Oliver Nightingale
 */
n.utils={},n.utils.warn=(r=this,function(e){r.console&&console.warn&&console.warn(e)}),n.utils.asString=function(e){return null==e?"":e.toString()},n.utils.clone=function(e){if(null==e)return e;for(var t=Object.create(null),r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],s=e[i];if(Array.isArray(s))t[i]=s.slice();else{if("string"!=typeof s&&"number"!=typeof s&&"boolean"!=typeof s)throw new TypeError("clone is not deep and does not support nested objects");t[i]=s}}return t},n.FieldRef=function(e,t,r){this.docRef=e,this.fieldName=t,this._stringValue=r},n.FieldRef.joiner="/",n.FieldRef.fromString=function(e){var t=e.indexOf(n.FieldRef.joiner);if(-1===t)throw"malformed field ref string";var r=e.slice(0,t),i=e.slice(t+1);return new n.FieldRef(i,r,e)},n.FieldRef.prototype.toString=function(){return null==this._stringValue&&(this._stringValue=this.fieldName+n.FieldRef.joiner+this.docRef),this._stringValue
/*!
 * lunr.Set
 * Copyright (C) 2020 Oliver Nightingale
 */},n.Set=function(e){if(this.elements=Object.create(null),e){this.length=e.length;for(var t=0;t<this.length;t++)this.elements[e[t]]=!0}else this.length=0},n.Set.complete={intersect:function(e){return e},union:function(){return this},contains:function(){return!0}},n.Set.empty={intersect:function(){return this},union:function(e){return e},contains:function(){return!1}},n.Set.prototype.contains=function(e){return!!this.elements[e]},n.Set.prototype.intersect=function(e){var t,r,i,s=[];if(e===n.Set.complete)return this;if(e===n.Set.empty)return e;this.length<e.length?(t=this,r=e):(t=e,r=this),i=Object.keys(t.elements);for(var o=0;o<i.length;o++){var a=i[o];a in r.elements&&s.push(a)}return new n.Set(s)},n.Set.prototype.union=function(e){return e===n.Set.complete?n.Set.complete:e===n.Set.empty?this:new n.Set(Object.keys(this.elements).concat(Object.keys(e.elements)))},n.idf=function(e,t){var r=0;for(var n in e)"_index"!=n&&(r+=Object.keys(e[n]).length);var i=(t-r+.5)/(r+.5);return Math.log(1+Math.abs(i))},n.Token=function(e,t){this.str=e||"",this.metadata=t||{}},n.Token.prototype.toString=function(){return this.str},n.Token.prototype.update=function(e){return this.str=e(this.str,this.metadata),this},n.Token.prototype.clone=function(e){return e=e||function(e){return e},new n.Token(e(this.str,this.metadata),this.metadata)
/*!
 * lunr.tokenizer
 * Copyright (C) 2020 Oliver Nightingale
 */},n.tokenizer=function(e,t){if(null==e||null==e)return[];if(Array.isArray(e))return e.map((function(e){return new n.Token(n.utils.asString(e).toLowerCase(),n.utils.clone(t))}));for(var r=e.toString().toLowerCase(),i=r.length,s=[],o=0,a=0;o<=i;o++){var l=o-a;if(r.charAt(o).match(n.tokenizer.separator)||o==i){if(l>0){var u=n.utils.clone(t)||{};u.position=[a,l],u.index=s.length,s.push(new n.Token(r.slice(a,o),u))}a=o+1}}return s},n.tokenizer.separator=/[\s\-]+/,
/*!
 * lunr.Pipeline
 * Copyright (C) 2020 Oliver Nightingale
 */
n.Pipeline=function(){this._stack=[]},n.Pipeline.registeredFunctions=Object.create(null),n.Pipeline.registerFunction=function(e,t){t in this.registeredFunctions&&n.utils.warn("Overwriting existing registered function: "+t),e.label=t,n.Pipeline.registeredFunctions[e.label]=e},n.Pipeline.warnIfFunctionNotRegistered=function(e){e.label&&e.label in this.registeredFunctions||n.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",e)},n.Pipeline.load=function(e){var t=new n.Pipeline;return e.forEach((function(e){var r=n.Pipeline.registeredFunctions[e];if(!r)throw new Error("Cannot load unregistered function: "+e);t.add(r)})),t},n.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach((function(e){n.Pipeline.warnIfFunctionNotRegistered(e),this._stack.push(e)}),this)},n.Pipeline.prototype.after=function(e,t){n.Pipeline.warnIfFunctionNotRegistered(t);var r=this._stack.indexOf(e);if(-1==r)throw new Error("Cannot find existingFn");r+=1,this._stack.splice(r,0,t)},n.Pipeline.prototype.before=function(e,t){n.Pipeline.warnIfFunctionNotRegistered(t);var r=this._stack.indexOf(e);if(-1==r)throw new Error("Cannot find existingFn");this._stack.splice(r,0,t)},n.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);-1!=t&&this._stack.splice(t,1)},n.Pipeline.prototype.run=function(e){for(var t=this._stack.length,r=0;r<t;r++){for(var n=this._stack[r],i=[],s=0;s<e.length;s++){var o=n(e[s],s,e);if(null!=o&&""!==o)if(Array.isArray(o))for(var a=0;a<o.length;a++)i.push(o[a]);else i.push(o)}e=i}return e},n.Pipeline.prototype.runString=function(e,t){var r=new n.Token(e,t);return this.run([r]).map((function(e){return e.toString()}))},n.Pipeline.prototype.reset=function(){this._stack=[]},n.Pipeline.prototype.toJSON=function(){return this._stack.map((function(e){return n.Pipeline.warnIfFunctionNotRegistered(e),e.label}))},
/*!
 * lunr.Vector
 * Copyright (C) 2020 Oliver Nightingale
 */
n.Vector=function(e){this._magnitude=0,this.elements=e||[]},n.Vector.prototype.positionForIndex=function(e){if(0==this.elements.length)return 0;for(var t=0,r=this.elements.length/2,n=r-t,i=Math.floor(n/2),s=this.elements[2*i];n>1&&(s<e&&(t=i),s>e&&(r=i),s!=e);)n=r-t,i=t+Math.floor(n/2),s=this.elements[2*i];return s==e||s>e?2*i:s<e?2*(i+1):void 0},n.Vector.prototype.insert=function(e,t){this.upsert(e,t,(function(){throw"duplicate index"}))},n.Vector.prototype.upsert=function(e,t,r){this._magnitude=0;var n=this.positionForIndex(e);this.elements[n]==e?this.elements[n+1]=r(this.elements[n+1],t):this.elements.splice(n,0,e,t)},n.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var e=0,t=this.elements.length,r=1;r<t;r+=2){var n=this.elements[r];e+=n*n}return this._magnitude=Math.sqrt(e)},n.Vector.prototype.dot=function(e){for(var t=0,r=this.elements,n=e.elements,i=r.length,s=n.length,o=0,a=0,l=0,u=0;l<i&&u<s;)(o=r[l])<(a=n[u])?l+=2:o>a?u+=2:o==a&&(t+=r[l+1]*n[u+1],l+=2,u+=2);return t},n.Vector.prototype.similarity=function(e){return this.dot(e)/this.magnitude()||0},n.Vector.prototype.toArray=function(){for(var e=new Array(this.elements.length/2),t=1,r=0;t<this.elements.length;t+=2,r++)e[r]=this.elements[t];return e},n.Vector.prototype.toJSON=function(){return this.elements},
/*!
 * lunr.stemmer
 * Copyright (C) 2020 Oliver Nightingale
 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 */
n.stemmer=function(){var e={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},t={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},r="[aeiouy]",n="[^aeiou][^aeiouy]*",i=r+"[aeiou]*",s="^("+n+")?"+i+n+"("+i+")?$",o="^("+n+")?"+i+n+i+n,a="^("+n+")?"+r,l=new RegExp("^("+n+")?"+i+n),u=new RegExp(o),c=new RegExp(s),h=new RegExp(a),d=/^(.+?)(ss|i)es$/,f=/^(.+?)([^s])s$/,p=/^(.+?)eed$/,y=/^(.+?)(ed|ing)$/,m=/.$/,g=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),v=new RegExp("^"+n+r+"[^aeiouwxy]$"),w=/^(.+?[^aeiou])y$/,b=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,Q=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,k=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,E=/^(.+?)(s|t)(ion)$/,S=/^(.+?)e$/,L=/ll$/,O=new RegExp("^"+n+r+"[^aeiouwxy]$"),P=function(r){var n,i,s,o,a,P,T;if(r.length<3)return r;if("y"==(s=r.substr(0,1))&&(r=s.toUpperCase()+r.substr(1)),a=f,(o=d).test(r)?r=r.replace(o,"$1$2"):a.test(r)&&(r=r.replace(a,"$1$2")),a=y,(o=p).test(r)){var I=o.exec(r);(o=l).test(I[1])&&(o=m,r=r.replace(o,""))}else a.test(r)&&(n=(I=a.exec(r))[1],(a=h).test(n)&&(P=x,T=v,(a=g).test(r=n)?r+="e":P.test(r)?(o=m,r=r.replace(o,"")):T.test(r)&&(r+="e")));return(o=w).test(r)&&(r=(n=(I=o.exec(r))[1])+"i"),(o=b).test(r)&&(n=(I=o.exec(r))[1],i=I[2],(o=l).test(n)&&(r=n+e[i])),(o=Q).test(r)&&(n=(I=o.exec(r))[1],i=I[2],(o=l).test(n)&&(r=n+t[i])),a=E,(o=k).test(r)?(n=(I=o.exec(r))[1],(o=u).test(n)&&(r=n)):a.test(r)&&(n=(I=a.exec(r))[1]+I[2],(a=u).test(n)&&(r=n)),(o=S).test(r)&&(n=(I=o.exec(r))[1],a=c,P=O,((o=u).test(n)||a.test(n)&&!P.test(n))&&(r=n)),a=u,(o=L).test(r)&&a.test(r)&&(o=m,r=r.replace(o,"")),"y"==s&&(r=s.toLowerCase()+r.substr(1)),r};return function(e){return e.update(P)}}(),n.Pipeline.registerFunction(n.stemmer,"stemmer"),
/*!
 * lunr.stopWordFilter
 * Copyright (C) 2020 Oliver Nightingale
 */
n.generateStopWordFilter=function(e){var t=e.reduce((function(e,t){return e[t]=t,e}),{});return function(e){if(e&&t[e.toString()]!==e.toString())return e}},n.stopWordFilter=n.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),n.Pipeline.registerFunction(n.stopWordFilter,"stopWordFilter"),
/*!
 * lunr.trimmer
 * Copyright (C) 2020 Oliver Nightingale
 */
n.trimmer=function(e){return e.update((function(e){return e.replace(/^\W+/,"").replace(/\W+$/,"")}))},n.Pipeline.registerFunction(n.trimmer,"trimmer"),
/*!
 * lunr.TokenSet
 * Copyright (C) 2020 Oliver Nightingale
 */
n.TokenSet=function(){this.final=!1,this.edges={},this.id=n.TokenSet._nextId,n.TokenSet._nextId+=1},n.TokenSet._nextId=1,n.TokenSet.fromArray=function(e){for(var t=new n.TokenSet.Builder,r=0,i=e.length;r<i;r++)t.insert(e[r]);return t.finish(),t.root},n.TokenSet.fromClause=function(e){return"editDistance"in e?n.TokenSet.fromFuzzyString(e.term,e.editDistance):n.TokenSet.fromString(e.term)},n.TokenSet.fromFuzzyString=function(e,t){for(var r=new n.TokenSet,i=[{node:r,editsRemaining:t,str:e}];i.length;){var s=i.pop();if(s.str.length>0){var o,a=s.str.charAt(0);a in s.node.edges?o=s.node.edges[a]:(o=new n.TokenSet,s.node.edges[a]=o),1==s.str.length&&(o.final=!0),i.push({node:o,editsRemaining:s.editsRemaining,str:s.str.slice(1)})}if(0!=s.editsRemaining){if("*"in s.node.edges)var l=s.node.edges["*"];else l=new n.TokenSet,s.node.edges["*"]=l;if(0==s.str.length&&(l.final=!0),i.push({node:l,editsRemaining:s.editsRemaining-1,str:s.str}),s.str.length>1&&i.push({node:s.node,editsRemaining:s.editsRemaining-1,str:s.str.slice(1)}),1==s.str.length&&(s.node.final=!0),s.str.length>=1){if("*"in s.node.edges)var u=s.node.edges["*"];else u=new n.TokenSet,s.node.edges["*"]=u;1==s.str.length&&(u.final=!0),i.push({node:u,editsRemaining:s.editsRemaining-1,str:s.str.slice(1)})}if(s.str.length>1){var c,h=s.str.charAt(0),d=s.str.charAt(1);d in s.node.edges?c=s.node.edges[d]:(c=new n.TokenSet,s.node.edges[d]=c),1==s.str.length&&(c.final=!0),i.push({node:c,editsRemaining:s.editsRemaining-1,str:h+s.str.slice(2)})}}}return r},n.TokenSet.fromString=function(e){for(var t=new n.TokenSet,r=t,i=0,s=e.length;i<s;i++){var o=e[i],a=i==s-1;if("*"==o)t.edges[o]=t,t.final=a;else{var l=new n.TokenSet;l.final=a,t.edges[o]=l,t=l}}return r},n.TokenSet.prototype.toArray=function(){for(var e=[],t=[{prefix:"",node:this}];t.length;){var r=t.pop(),n=Object.keys(r.node.edges),i=n.length;r.node.final&&(r.prefix.charAt(0),e.push(r.prefix));for(var s=0;s<i;s++){var o=n[s];t.push({prefix:r.prefix.concat(o),node:r.node.edges[o]})}}return e},n.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var e=this.final?"1":"0",t=Object.keys(this.edges).sort(),r=t.length,n=0;n<r;n++){var i=t[n];e=e+i+this.edges[i].id}return e},n.TokenSet.prototype.intersect=function(e){for(var t=new n.TokenSet,r=void 0,i=[{qNode:e,output:t,node:this}];i.length;){r=i.pop();for(var s=Object.keys(r.qNode.edges),o=s.length,a=Object.keys(r.node.edges),l=a.length,u=0;u<o;u++)for(var c=s[u],h=0;h<l;h++){var d=a[h];if(d==c||"*"==c){var f=r.node.edges[d],p=r.qNode.edges[c],y=f.final&&p.final,m=void 0;d in r.output.edges?(m=r.output.edges[d]).final=m.final||y:((m=new n.TokenSet).final=y,r.output.edges[d]=m),i.push({qNode:p,output:m,node:f})}}}return t},n.TokenSet.Builder=function(){this.previousWord="",this.root=new n.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},n.TokenSet.Builder.prototype.insert=function(e){var t,r=0;if(e<this.previousWord)throw new Error("Out of order word insertion");for(var i=0;i<e.length&&i<this.previousWord.length&&e[i]==this.previousWord[i];i++)r++;for(this.minimize(r),t=0==this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child,i=r;i<e.length;i++){var s=new n.TokenSet,o=e[i];t.edges[o]=s,this.uncheckedNodes.push({parent:t,char:o,child:s}),t=s}t.final=!0,this.previousWord=e},n.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},n.TokenSet.Builder.prototype.minimize=function(e){for(var t=this.uncheckedNodes.length-1;t>=e;t--){var r=this.uncheckedNodes[t],n=r.child.toString();n in this.minimizedNodes?r.parent.edges[r.char]=this.minimizedNodes[n]:(r.child._str=n,this.minimizedNodes[n]=r.child),this.uncheckedNodes.pop()}},
/*!
 * lunr.Index
 * Copyright (C) 2020 Oliver Nightingale
 */
n.Index=function(e){this.invertedIndex=e.invertedIndex,this.fieldVectors=e.fieldVectors,this.tokenSet=e.tokenSet,this.fields=e.fields,this.pipeline=e.pipeline},n.Index.prototype.search=function(e){return this.query((function(t){new n.QueryParser(e,t).parse()}))},n.Index.prototype.query=function(e){for(var t=new n.Query(this.fields),r=Object.create(null),i=Object.create(null),s=Object.create(null),o=Object.create(null),a=Object.create(null),l=0;l<this.fields.length;l++)i[this.fields[l]]=new n.Vector;for(e.call(t,t),l=0;l<t.clauses.length;l++){var u=t.clauses[l],c=null,h=n.Set.empty;c=u.usePipeline?this.pipeline.runString(u.term,{fields:u.fields}):[u.term];for(var d=0;d<c.length;d++){var f=c[d];u.term=f;var p=n.TokenSet.fromClause(u),y=this.tokenSet.intersect(p).toArray();if(0===y.length&&u.presence===n.Query.presence.REQUIRED){for(var m=0;m<u.fields.length;m++)o[R=u.fields[m]]=n.Set.empty;break}for(var g=0;g<y.length;g++){var x=y[g],v=this.invertedIndex[x],w=v._index;for(m=0;m<u.fields.length;m++){var b=v[R=u.fields[m]],Q=Object.keys(b),k=x+"/"+R,E=new n.Set(Q);if(u.presence==n.Query.presence.REQUIRED&&(h=h.union(E),void 0===o[R]&&(o[R]=n.Set.complete)),u.presence!=n.Query.presence.PROHIBITED){if(i[R].upsert(w,u.boost,(function(e,t){return e+t})),!s[k]){for(var S=0;S<Q.length;S++){var L,O=Q[S],P=new n.FieldRef(O,R),T=b[O];void 0===(L=r[P])?r[P]=new n.MatchData(x,R,T):L.add(x,R,T)}s[k]=!0}}else void 0===a[R]&&(a[R]=n.Set.empty),a[R]=a[R].union(E)}}}if(u.presence===n.Query.presence.REQUIRED)for(m=0;m<u.fields.length;m++)o[R=u.fields[m]]=o[R].intersect(h)}var I=n.Set.complete,j=n.Set.empty;for(l=0;l<this.fields.length;l++){var R;o[R=this.fields[l]]&&(I=I.intersect(o[R])),a[R]&&(j=j.union(a[R]))}var F=Object.keys(r),N=[],C=Object.create(null);if(t.isNegated())for(F=Object.keys(this.fieldVectors),l=0;l<F.length;l++){P=F[l];var _=n.FieldRef.fromString(P);r[P]=new n.MatchData}for(l=0;l<F.length;l++){var D=(_=n.FieldRef.fromString(F[l])).docRef;if(I.contains(D)&&!j.contains(D)){var A,z=this.fieldVectors[_],$=i[_.fieldName].similarity(z);if(void 0!==(A=C[D]))A.score+=$,A.matchData.combine(r[_]);else{var B={ref:D,score:$,matchData:r[_]};C[D]=B,N.push(B)}}}return N.sort((function(e,t){return t.score-e.score}))},n.Index.prototype.toJSON=function(){var e=Object.keys(this.invertedIndex).sort().map((function(e){return[e,this.invertedIndex[e]]}),this),t=Object.keys(this.fieldVectors).map((function(e){return[e,this.fieldVectors[e].toJSON()]}),this);return{version:n.version,fields:this.fields,fieldVectors:t,invertedIndex:e,pipeline:this.pipeline.toJSON()}},n.Index.load=function(e){var t={},r={},i=e.fieldVectors,s=Object.create(null),o=e.invertedIndex,a=new n.TokenSet.Builder,l=n.Pipeline.load(e.pipeline);e.version!=n.version&&n.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+n.version+"' does not match serialized index '"+e.version+"'");for(var u=0;u<i.length;u++){var c=(d=i[u])[0],h=d[1];r[c]=new n.Vector(h)}for(u=0;u<o.length;u++){var d,f=(d=o[u])[0],p=d[1];a.insert(f),s[f]=p}return a.finish(),t.fields=e.fields,t.fieldVectors=r,t.invertedIndex=s,t.tokenSet=a.root,t.pipeline=l,new n.Index(t)
/*!
 * lunr.Builder
 * Copyright (C) 2020 Oliver Nightingale
 */},n.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=n.tokenizer,this.pipeline=new n.Pipeline,this.searchPipeline=new n.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},n.Builder.prototype.ref=function(e){this._ref=e},n.Builder.prototype.field=function(e,t){if(/\//.test(e))throw new RangeError("Field '"+e+"' contains illegal character '/'");this._fields[e]=t||{}},n.Builder.prototype.b=function(e){this._b=e<0?0:e>1?1:e},n.Builder.prototype.k1=function(e){this._k1=e},n.Builder.prototype.add=function(e,t){var r=e[this._ref],i=Object.keys(this._fields);this._documents[r]=t||{},this.documentCount+=1;for(var s=0;s<i.length;s++){var o=i[s],a=this._fields[o].extractor,l=a?a(e):e[o],u=this.tokenizer(l,{fields:[o]}),c=this.pipeline.run(u),h=new n.FieldRef(r,o),d=Object.create(null);this.fieldTermFrequencies[h]=d,this.fieldLengths[h]=0,this.fieldLengths[h]+=c.length;for(var f=0;f<c.length;f++){var p=c[f];if(null==d[p]&&(d[p]=0),d[p]+=1,null==this.invertedIndex[p]){var y=Object.create(null);y._index=this.termIndex,this.termIndex+=1;for(var m=0;m<i.length;m++)y[i[m]]=Object.create(null);this.invertedIndex[p]=y}null==this.invertedIndex[p][o][r]&&(this.invertedIndex[p][o][r]=Object.create(null));for(var g=0;g<this.metadataWhitelist.length;g++){var x=this.metadataWhitelist[g],v=p.metadata[x];null==this.invertedIndex[p][o][r][x]&&(this.invertedIndex[p][o][r][x]=[]),this.invertedIndex[p][o][r][x].push(v)}}}},n.Builder.prototype.calculateAverageFieldLengths=function(){for(var e=Object.keys(this.fieldLengths),t=e.length,r={},i={},s=0;s<t;s++){var o=n.FieldRef.fromString(e[s]),a=o.fieldName;i[a]||(i[a]=0),i[a]+=1,r[a]||(r[a]=0),r[a]+=this.fieldLengths[o]}var l=Object.keys(this._fields);for(s=0;s<l.length;s++){var u=l[s];r[u]=r[u]/i[u]}this.averageFieldLength=r},n.Builder.prototype.createFieldVectors=function(){for(var e={},t=Object.keys(this.fieldTermFrequencies),r=t.length,i=Object.create(null),s=0;s<r;s++){for(var o=n.FieldRef.fromString(t[s]),a=o.fieldName,l=this.fieldLengths[o],u=new n.Vector,c=this.fieldTermFrequencies[o],h=Object.keys(c),d=h.length,f=this._fields[a].boost||1,p=this._documents[o.docRef].boost||1,y=0;y<d;y++){var m,g,x,v=h[y],w=c[v],b=this.invertedIndex[v]._index;void 0===i[v]?(m=n.idf(this.invertedIndex[v],this.documentCount),i[v]=m):m=i[v],g=m*((this._k1+1)*w)/(this._k1*(1-this._b+this._b*(l/this.averageFieldLength[a]))+w),g*=f,g*=p,x=Math.round(1e3*g)/1e3,u.insert(b,x)}e[o]=u}this.fieldVectors=e},n.Builder.prototype.createTokenSet=function(){this.tokenSet=n.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},n.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new n.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},n.Builder.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},n.MatchData=function(e,t,r){for(var n=Object.create(null),i=Object.keys(r||{}),s=0;s<i.length;s++){var o=i[s];n[o]=r[o].slice()}this.metadata=Object.create(null),void 0!==e&&(this.metadata[e]=Object.create(null),this.metadata[e][t]=n)},n.MatchData.prototype.combine=function(e){for(var t=Object.keys(e.metadata),r=0;r<t.length;r++){var n=t[r],i=Object.keys(e.metadata[n]);null==this.metadata[n]&&(this.metadata[n]=Object.create(null));for(var s=0;s<i.length;s++){var o=i[s],a=Object.keys(e.metadata[n][o]);null==this.metadata[n][o]&&(this.metadata[n][o]=Object.create(null));for(var l=0;l<a.length;l++){var u=a[l];null==this.metadata[n][o][u]?this.metadata[n][o][u]=e.metadata[n][o][u]:this.metadata[n][o][u]=this.metadata[n][o][u].concat(e.metadata[n][o][u])}}}},n.MatchData.prototype.add=function(e,t,r){if(!(e in this.metadata))return this.metadata[e]=Object.create(null),void(this.metadata[e][t]=r);if(t in this.metadata[e])for(var n=Object.keys(r),i=0;i<n.length;i++){var s=n[i];s in this.metadata[e][t]?this.metadata[e][t][s]=this.metadata[e][t][s].concat(r[s]):this.metadata[e][t][s]=r[s]}else this.metadata[e][t]=r},n.Query=function(e){this.clauses=[],this.allFields=e},n.Query.wildcard=new String("*"),n.Query.wildcard.NONE=0,n.Query.wildcard.LEADING=1,n.Query.wildcard.TRAILING=2,n.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},n.Query.prototype.clause=function(e){return"fields"in e||(e.fields=this.allFields),"boost"in e||(e.boost=1),"usePipeline"in e||(e.usePipeline=!0),"wildcard"in e||(e.wildcard=n.Query.wildcard.NONE),e.wildcard&n.Query.wildcard.LEADING&&e.term.charAt(0)!=n.Query.wildcard&&(e.term="*"+e.term),e.wildcard&n.Query.wildcard.TRAILING&&e.term.slice(-1)!=n.Query.wildcard&&(e.term=e.term+"*"),"presence"in e||(e.presence=n.Query.presence.OPTIONAL),this.clauses.push(e),this},n.Query.prototype.isNegated=function(){for(var e=0;e<this.clauses.length;e++)if(this.clauses[e].presence!=n.Query.presence.PROHIBITED)return!1;return!0},n.Query.prototype.term=function(e,t){if(Array.isArray(e))return e.forEach((function(e){this.term(e,n.utils.clone(t))}),this),this;var r=t||{};return r.term=e.toString(),this.clause(r),this},n.QueryParseError=function(e,t,r){this.name="QueryParseError",this.message=e,this.start=t,this.end=r},n.QueryParseError.prototype=new Error,n.QueryLexer=function(e){this.lexemes=[],this.str=e,this.length=e.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},n.QueryLexer.prototype.run=function(){for(var e=n.QueryLexer.lexText;e;)e=e(this)},n.QueryLexer.prototype.sliceString=function(){for(var e=[],t=this.start,r=this.pos,n=0;n<this.escapeCharPositions.length;n++)r=this.escapeCharPositions[n],e.push(this.str.slice(t,r)),t=r+1;return e.push(this.str.slice(t,this.pos)),this.escapeCharPositions.length=0,e.join("")},n.QueryLexer.prototype.emit=function(e){this.lexemes.push({type:e,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},n.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},n.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return n.QueryLexer.EOS;var e=this.str.charAt(this.pos);return this.pos+=1,e},n.QueryLexer.prototype.width=function(){return this.pos-this.start},n.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},n.QueryLexer.prototype.backup=function(){this.pos-=1},n.QueryLexer.prototype.acceptDigitRun=function(){var e,t;do{t=(e=this.next()).charCodeAt(0)}while(t>47&&t<58);e!=n.QueryLexer.EOS&&this.backup()},n.QueryLexer.prototype.more=function(){return this.pos<this.length},n.QueryLexer.EOS="EOS",n.QueryLexer.FIELD="FIELD",n.QueryLexer.TERM="TERM",n.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",n.QueryLexer.BOOST="BOOST",n.QueryLexer.PRESENCE="PRESENCE",n.QueryLexer.lexField=function(e){return e.backup(),e.emit(n.QueryLexer.FIELD),e.ignore(),n.QueryLexer.lexText},n.QueryLexer.lexTerm=function(e){if(e.width()>1&&(e.backup(),e.emit(n.QueryLexer.TERM)),e.ignore(),e.more())return n.QueryLexer.lexText},n.QueryLexer.lexEditDistance=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(n.QueryLexer.EDIT_DISTANCE),n.QueryLexer.lexText},n.QueryLexer.lexBoost=function(e){return e.ignore(),e.acceptDigitRun(),e.emit(n.QueryLexer.BOOST),n.QueryLexer.lexText},n.QueryLexer.lexEOS=function(e){e.width()>0&&e.emit(n.QueryLexer.TERM)},n.QueryLexer.termSeparator=n.tokenizer.separator,n.QueryLexer.lexText=function(e){for(;;){var t=e.next();if(t==n.QueryLexer.EOS)return n.QueryLexer.lexEOS;if(92!=t.charCodeAt(0)){if(":"==t)return n.QueryLexer.lexField;if("~"==t)return e.backup(),e.width()>0&&e.emit(n.QueryLexer.TERM),n.QueryLexer.lexEditDistance;if("^"==t)return e.backup(),e.width()>0&&e.emit(n.QueryLexer.TERM),n.QueryLexer.lexBoost;if("+"==t&&1===e.width()||"-"==t&&1===e.width())return e.emit(n.QueryLexer.PRESENCE),n.QueryLexer.lexText;if(t.match(n.QueryLexer.termSeparator))return n.QueryLexer.lexTerm}else e.escapeCharacter()}},n.QueryParser=function(e,t){this.lexer=new n.QueryLexer(e),this.query=t,this.currentClause={},this.lexemeIdx=0},n.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var e=n.QueryParser.parseClause;e;)e=e(this);return this.query},n.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},n.QueryParser.prototype.consumeLexeme=function(){var e=this.peekLexeme();return this.lexemeIdx+=1,e},n.QueryParser.prototype.nextClause=function(){var e=this.currentClause;this.query.clause(e),this.currentClause={}},n.QueryParser.parseClause=function(e){var t=e.peekLexeme();if(null!=t)switch(t.type){case n.QueryLexer.PRESENCE:return n.QueryParser.parsePresence;case n.QueryLexer.FIELD:return n.QueryParser.parseField;case n.QueryLexer.TERM:return n.QueryParser.parseTerm;default:var r="expected either a field or a term, found "+t.type;throw t.str.length>=1&&(r+=" with value '"+t.str+"'"),new n.QueryParseError(r,t.start,t.end)}},n.QueryParser.parsePresence=function(e){var t=e.consumeLexeme();if(null!=t){switch(t.str){case"-":e.currentClause.presence=n.Query.presence.PROHIBITED;break;case"+":e.currentClause.presence=n.Query.presence.REQUIRED;break;default:var r="unrecognised presence operator'"+t.str+"'";throw new n.QueryParseError(r,t.start,t.end)}var i=e.peekLexeme();if(null==i)throw r="expecting term or field, found nothing",new n.QueryParseError(r,t.start,t.end);switch(i.type){case n.QueryLexer.FIELD:return n.QueryParser.parseField;case n.QueryLexer.TERM:return n.QueryParser.parseTerm;default:throw r="expecting term or field, found '"+i.type+"'",new n.QueryParseError(r,i.start,i.end)}}},n.QueryParser.parseField=function(e){var t=e.consumeLexeme();if(null!=t){if(-1==e.query.allFields.indexOf(t.str)){var r=e.query.allFields.map((function(e){return"'"+e+"'"})).join(", "),i="unrecognised field '"+t.str+"', possible fields: "+r;throw new n.QueryParseError(i,t.start,t.end)}e.currentClause.fields=[t.str];var s=e.peekLexeme();if(null==s)throw i="expecting term, found nothing",new n.QueryParseError(i,t.start,t.end);if(s.type===n.QueryLexer.TERM)return n.QueryParser.parseTerm;throw i="expecting term, found '"+s.type+"'",new n.QueryParseError(i,s.start,s.end)}},n.QueryParser.parseTerm=function(e){var t=e.consumeLexeme();if(null!=t){e.currentClause.term=t.str.toLowerCase(),-1!=t.str.indexOf("*")&&(e.currentClause.usePipeline=!1);var r=e.peekLexeme();if(null==r)return void e.nextClause();switch(r.type){case n.QueryLexer.TERM:return e.nextClause(),n.QueryParser.parseTerm;case n.QueryLexer.FIELD:return e.nextClause(),n.QueryParser.parseField;case n.QueryLexer.EDIT_DISTANCE:return n.QueryParser.parseEditDistance;case n.QueryLexer.BOOST:return n.QueryParser.parseBoost;case n.QueryLexer.PRESENCE:return e.nextClause(),n.QueryParser.parsePresence;default:var i="Unexpected lexeme type '"+r.type+"'";throw new n.QueryParseError(i,r.start,r.end)}}},n.QueryParser.parseEditDistance=function(e){var t=e.consumeLexeme();if(null!=t){var r=parseInt(t.str,10);if(isNaN(r)){var i="edit distance must be numeric";throw new n.QueryParseError(i,t.start,t.end)}e.currentClause.editDistance=r;var s=e.peekLexeme();if(null==s)return void e.nextClause();switch(s.type){case n.QueryLexer.TERM:return e.nextClause(),n.QueryParser.parseTerm;case n.QueryLexer.FIELD:return e.nextClause(),n.QueryParser.parseField;case n.QueryLexer.EDIT_DISTANCE:return n.QueryParser.parseEditDistance;case n.QueryLexer.BOOST:return n.QueryParser.parseBoost;case n.QueryLexer.PRESENCE:return e.nextClause(),n.QueryParser.parsePresence;default:throw i="Unexpected lexeme type '"+s.type+"'",new n.QueryParseError(i,s.start,s.end)}}},n.QueryParser.parseBoost=function(e){var t=e.consumeLexeme();if(null!=t){var r=parseInt(t.str,10);if(isNaN(r)){var i="boost must be numeric";throw new n.QueryParseError(i,t.start,t.end)}e.currentClause.boost=r;var s=e.peekLexeme();if(null==s)return void e.nextClause();switch(s.type){case n.QueryLexer.TERM:return e.nextClause(),n.QueryParser.parseTerm;case n.QueryLexer.FIELD:return e.nextClause(),n.QueryParser.parseField;case n.QueryLexer.EDIT_DISTANCE:return n.QueryParser.parseEditDistance;case n.QueryLexer.BOOST:return n.QueryParser.parseBoost;case n.QueryLexer.PRESENCE:return e.nextClause(),n.QueryParser.parsePresence;default:throw i="Unexpected lexeme type '"+s.type+"'",new n.QueryParseError(i,s.start,s.end)}}},function(r,n){"function"==typeof define&&define.amd?define(n):"object"==typeof e?t.exports=n():r.lunr=n()}(this,(function(){return n}))}()},()=>(t||e((t={exports:{}}).exports,t),t.exports)),x=((e,t,i)=>(i=null!=e?r(u(e)):{},((e,t,r,i)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of a(t))!c.call(e,o)&&o!==r&&n(e,o,{get:()=>t[o],enumerable:!(i=s(t,o))||i.enumerable});return e})(!t&&e&&e.__esModule?i:n(i,"default",{value:e,enumerable:!0}),e)))(g());function v(e,t=document){let r=function(e,t=document){return t.querySelector(e)||void 0}(e,t);if(void 0===r)throw new ReferenceError(`Missing element: expected "${e}" to be present`);return r}function w(e,t,r){var n;t=new RegExp(t,"g");let i,s=0;do{i=t.exec(e);let o=null!=(n=null==i?void 0:i.index)?n:e.length;if(s<o&&r(s,o),i){let[e]=i;s=i.index+e.length,0===e.length&&(t.lastIndex=i.index+1)}}while(i)}function b(e,t){let r=0,n=0,i=0;for(let s=0;i<e.length;i++)"<"===e.charAt(i)&&i>n?t(r,1,n,n=i):">"===e.charAt(i)&&("/"===e.charAt(n+1)?0==--s&&t(r++,2,n,i+1):"/"!==e.charAt(i-1)&&0==s++&&t(r,0,n,i+1),n=i+1);i>n&&t(r,1,n,i)}function Q(e,t,r,n=!1){return k([e],t,r,n).pop()}function k(e,t,r,n=!1){let i=[0];for(let e=1;e<t.length;e++){let r=t[e-1],n=t[e],s=r[r.length-1]>>>2&1023,o=n[0]>>>12;i.push(+(s>o)+i[i.length-1])}return e.map(((e,s)=>{let o=0,a=new Map;for(let e of r.sort(((e,t)=>e-t))){let t=1048575&e,r=e>>>20;if(i[r]!==s)continue;let n=a.get(r);void 0===n&&a.set(r,n=[]),n.push(t)}if(0===a.size)return e;let l=[];for(let[r,i]of a){let s=t[r],a=s[0]>>>12,u=s[s.length-1]>>>12,c=s[s.length-1]>>>2&1023;n&&a>o&&l.push(e.slice(o,a));let h=e.slice(a,u+c);for(let e of i.sort(((e,t)=>t-e))){let t=(s[e]>>>12)-a,r=(s[e]>>>2&1023)+t;h=[h.slice(0,t),"<mark>",h.slice(t,r),"</mark>",h.slice(r)].join("")}if(o=u+c,2===l.push(h))break}return n&&o<e.length&&l.push(e.slice(o)),l.join("")}))}function E(e){let t=[];if(void 0===e)return t;let r=Array.isArray(e)?e:[e];for(let e=0;e<r.length;e++){let n=lunr.tokenizer.table,i=n.length;b(r[e],((s,o,a,l)=>{var u;switch(n[u=s+=i]||(n[u]=[]),o){case 0:case 2:n[s].push(a<<12|l-a<<2|o);break;case 1:let i=r[e].slice(a,l);w(i,lunr.tokenizer.separator,((e,r)=>{if(void 0!==lunr.segmenter){let l=i.slice(e,r);if(/^[MHIK]$/.test(lunr.segmenter.ctype_(l))){let r=lunr.segmenter.segment(l);for(let i=0,l=0;i<r.length;i++)n[s]||(n[s]=[]),n[s].push(a+e+l<<12|r[i].length<<2|o),t.push(new lunr.Token(r[i].toLowerCase(),{position:s<<20|n[s].length-1})),l+=r[i].length;return}}n[s].push(a+e<<12|r-e<<2|o),t.push(new lunr.Token(i.slice(e,r).toLowerCase(),{position:s<<20|n[s].length-1}))}))}}))}return t}function S(e){return function(e,t=e=>e){return e.trim().split(/"([^"]+)"/g).map(((e,t)=>1&t?e.replace(/^\b|^(?![^\x00-\x7F]|$)|\s+/g," +"):e)).join("").replace(/"|(?:^|\s+)[*+\-:^~]+(?=\s+|$)/g,"").split(/\s+/g).reduce(((e,r)=>{let n=t(r);return[...e,...Array.isArray(n)?n:[n]]}),[]).map((e=>/([~^]$)/.test(e)?`${e}1`:e)).map((e=>/(^[+-]|[~^]\d+$)/.test(e)?e:`${e}*`)).join(" ")}(e,(e=>{let t=[],r=new lunr.QueryLexer(e);r.run();for(let{type:n,str:i,start:s,end:o}of r.lexemes)switch(n){case"FIELD":["title","text","tags"].includes(i)||(e=[e.slice(0,o)," ",e.slice(o+1)].join(""));break;case"TERM":w(i,lunr.tokenizer.separator,((...r)=>{t.push([e.slice(0,s),i.slice(...r),e.slice(o)].join(""))}))}return t}))}function L(e,t){let r=new Set,n=new Uint16Array(e.length);for(let r=0;r<e.length;r++)for(let i=r+1;i<e.length;i++)e.slice(r,i)in t&&(n[r]=i-r);let i=[0];for(let t=i.length;t>0;){let s=i[--t];for(let o=1;o<n[s];o++)n[s+o]>n[s]-o&&(r.add(e.slice(s,s+o)),i[t++]=s+o);let o=s+n[s];n[o]&&o<e.length-1&&(i[t++]=o),r.add(e.slice(s,o))}return r.has("")?new Set([e]):r}Object.entries||(Object.entries=function(e){let t=[];for(let r of Object.keys(e))t.push([r,e[r]]);return t}),Object.values||(Object.values=function(e){let t=[];for(let r of Object.keys(e))t.push(e[r]);return t}),"undefined"!=typeof Element&&(Element.prototype.scrollTo||(Element.prototype.scrollTo=function(e,t){"object"==typeof e?(this.scrollLeft=e.left,this.scrollTop=e.top):(this.scrollLeft=e,this.scrollTop=t)}),Element.prototype.replaceWith||(Element.prototype.replaceWith=function(...e){let t=this.parentNode;if(t){0===e.length&&t.removeChild(this);for(let r=e.length-1;r>=0;r--){let n=e[r];"string"==typeof n?n=document.createTextNode(n):n.parentNode&&n.parentNode.removeChild(n),r?t.insertBefore(this.previousSibling,n):t.replaceChild(n,this)}}}));var O,P=class{constructor({config:e,docs:t,options:r}){let n=function(e){return t=>r=>{if(void 0===r[t])return;let n=[r.location,t].join(":");return e.set(n,lunr.tokenizer.table=[]),r[t]}}(this.table=new Map);this.map=function(e){let t=new Map;for(let r of e){let[e]=r.location.split("#"),n=t.get(e);void 0===n?t.set(e,r):(t.set(r.location,r),r.parent=n)}return t}(t),this.options=r,this.index=lunr((function(){this.metadataWhitelist=["position"],this.b(0),1===e.lang.length&&"en"!==e.lang[0]?this.use(lunr[e.lang[0]]):e.lang.length>1&&this.use(lunr.multiLanguage(...e.lang)),this.tokenizer=E,lunr.tokenizer.separator=new RegExp(e.separator),lunr.segmenter="TinySegmenter"in lunr?new lunr.TinySegmenter:void 0;let r=function(e,t){let[r,n]=[new Set(e),new Set(t)];return[...new Set([...r].filter((e=>!n.has(e))))]}(["trimmer","stopWordFilter","stemmer"],e.pipeline);for(let t of e.lang.map((e=>"en"===e?lunr:lunr[e])))for(let e of r)this.pipeline.remove(t[e]),this.searchPipeline.remove(t[e]);this.ref("location"),this.field("title",{boost:1e3,extractor:n("title")}),this.field("text",{boost:1,extractor:n("text")}),this.field("tags",{boost:1e6,extractor:n("tags")});for(let e of t)this.add(e,{boost:e.boost})}))}search(e){if(!(e=S(e=e.replace(new RegExp("\\p{sc=Han}+","gu"),(e=>[...L(e,this.index.invertedIndex)].join("* "))))))return{items:[]};let t,r=function(e){let t=new lunr.Query(["title","text","tags"]);new lunr.QueryParser(e,t).parse();for(let e of t.clauses)e.usePipeline=!0,e.term.startsWith("*")&&(e.wildcard=lunr.Query.wildcard.LEADING,e.term=e.term.slice(1)),e.term.endsWith("*")&&(e.wildcard=lunr.Query.wildcard.TRAILING,e.term=e.term.slice(0,-1));return t.clauses}(e).filter((e=>e.presence!==lunr.Query.presence.PROHIBITED)),n=this.index.search(e).reduce(((e,{ref:t,score:n,matchData:i})=>{let s=this.map.get(t);if(void 0!==s){s=p({},s),s.tags&&(s.tags=[...s.tags]);let t=function(e,t){var r;let n=new Set(e),i={};for(let e=0;e<t.length;e++)for(let r of n)t[e].startsWith(r.term)&&(i[r.term]=!0,n.delete(r));for(let e of n)null!=(r=lunr.stopWordFilter)&&r.call(lunr,e.term)&&(i[e.term]=!1);return i}(r,Object.keys(i.metadata));for(let e of this.index.fields){if(void 0===s[e])continue;let t=[];for(let r of Object.values(i.metadata))void 0!==r[e]&&t.push(...r[e].position);if(!t.length)continue;let r=this.table.get([s.location,e].join(":")),n=Array.isArray(s[e])?k:Q;s[e]=n(s[e],r,t,"text"!==e)}let o=+!s.parent+Object.values(t).filter((e=>e)).length/Object.keys(t).length;e.push(y(p({},s),{score:n*(1+d(o,2)),terms:t}))}return e}),[]).sort(((e,t)=>t.score-e.score)).reduce(((e,t)=>{let r=this.map.get(t.location);if(void 0!==r){let n=r.parent?r.parent.location:r.location;e.set(n,[...e.get(n)||[],t])}return e}),new Map);for(let[e,t]of n)if(!t.find((t=>t.location===e))){let r=this.map.get(e);t.push(y(p({},r),{score:0,terms:{}}))}if(this.options.suggest){let e=this.index.query((e=>{for(let t of r)e.term(t.term,{fields:["title"],presence:lunr.Query.presence.REQUIRED,wildcard:lunr.Query.wildcard.TRAILING})}));t=e.length?Object.keys(e[0].matchData.metadata):[]}return p({items:[...n.values()]},void 0!==t&&{suggest:t})}};function T(e){return m(this,null,(function*(){switch(e.type){case 0:return yield function(e){return m(this,null,(function*(){let t="../lunr";if("undefined"!=typeof parent&&"IFrameWorker"in parent){let e=v("script[src]"),[r]=e.src.split("/worker");t=t.replace("..",r)}let r=[];for(let n of e.lang){switch(n){case"ja":r.push(`${t}/tinyseg.js`);break;case"hi":case"th":r.push(`${t}/wordcut.js`)}"en"!==n&&r.push(`${t}/min/lunr.${n}.min.js`)}e.lang.length>1&&r.push(`${t}/min/lunr.multi.min.js`),r.length&&(yield importScripts(`${t}/min/lunr.stemmer.support.min.js`,...r))}))}(e.data.config),O=new P(e.data),{type:1};case 2:let t=e.data;try{return{type:3,data:O.search(t)}}catch(e){return console.warn(`Invalid query: ${t} – see https://bit.ly/2s3ChXG`),console.warn(e),{type:3,data:{items:[]}}}default:throw new TypeError("Invalid message type")}}))}self.lunr=x.default,x.default.utils.warn=console.warn,addEventListener("message",(e=>m(null,null,(function*(){postMessage(yield T(e.data))}))))})();