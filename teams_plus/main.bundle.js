/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{"use strict";var t={"--colorNeutralForeground1":"#242424","--colorNeutralForeground1Hover":"#242424","--colorNeutralForeground1Pressed":"#242424","--colorNeutralForeground1Selected":"#242424","--colorNeutralForeground2":"#424242","--colorNeutralForeground2Hover":"#242424","--colorNeutralForeground2Pressed":"#242424","--colorNeutralForeground2Selected":"#242424","--colorNeutralForeground2BrandHover":"#5b5fc7","--colorNeutralForeground2BrandPressed":"#4f52b2","--colorNeutralForeground2BrandSelected":"#5b5fc7","--colorNeutralForeground3":"#616161","--colorNeutralForeground3Hover":"#424242","--colorNeutralForeground3Pressed":"#424242","--colorNeutralForeground3Selected":"#424242","--colorNeutralForeground3BrandHover":"#5b5fc7","--colorNeutralForeground3BrandPressed":"#4f52b2","--colorNeutralForeground3BrandSelected":"#5b5fc7","--colorNeutralForeground4":"#707070","--colorNeutralForegroundDisabled":"#bdbdbd","--colorNeutralForegroundInvertedDisabled":"rgba(255, 255, 255, 0.4)","--colorBrandForegroundLink":"#4f52b2","--colorBrandForegroundLinkHover":"#444791","--colorBrandForegroundLinkPressed":"#383966","--colorBrandForegroundLinkSelected":"#4f52b2","--colorNeutralForeground2Link":"#424242","--colorNeutralForeground2LinkHover":"#242424","--colorNeutralForeground2LinkPressed":"#242424","--colorNeutralForeground2LinkSelected":"#242424","--colorCompoundBrandForeground1":"#5b5fc7","--colorCompoundBrandForeground1Hover":"#4f52b2","--colorCompoundBrandForeground1Pressed":"#444791","--colorBrandForeground1":"#5b5fc7","--colorBrandForeground2":"#4f52b2","--colorBrandForeground2Hover":"#444791","--colorBrandForeground2Pressed":"#333357","--colorNeutralForeground1Static":"#242424","--colorNeutralForegroundStaticInverted":"#ffffff","--colorNeutralForegroundInverted":"#ffffff","--colorNeutralForegroundInvertedHover":"#ffffff","--colorNeutralForegroundInvertedPressed":"#ffffff","--colorNeutralForegroundInvertedSelected":"#ffffff","--colorNeutralForegroundInverted2":"#ffffff","--colorNeutralForegroundOnBrand":"#ffffff","--colorNeutralForegroundInvertedLink":"#ffffff","--colorNeutralForegroundInvertedLinkHover":"#ffffff","--colorNeutralForegroundInvertedLinkPressed":"#ffffff","--colorNeutralForegroundInvertedLinkSelected":"#ffffff","--colorBrandForegroundInverted":"#7f85f5","--colorBrandForegroundInvertedHover":"#9299f7","--colorBrandForegroundInvertedPressed":"#7f85f5","--colorBrandForegroundOnLight":"#5b5fc7","--colorBrandForegroundOnLightHover":"#4f52b2","--colorBrandForegroundOnLightPressed":"#3d3e78","--colorBrandForegroundOnLightSelected":"#444791","--colorNeutralBackground1":"#ffffff","--colorNeutralBackground1Hover":"#f5f5f5","--colorNeutralBackground1Pressed":"#e0e0e0","--colorNeutralBackground1Selected":"#ebebeb","--colorNeutralBackground2":"#fafafa","--colorNeutralBackground2Hover":"#f0f0f0","--colorNeutralBackground2Pressed":"#dbdbdb","--colorNeutralBackground2Selected":"#e6e6e6","--colorNeutralBackground3":"#f5f5f5","--colorNeutralBackground3Hover":"#ebebeb","--colorNeutralBackground3Pressed":"#d6d6d6","--colorNeutralBackground3Selected":"#e0e0e0","--colorNeutralBackground4":"#f0f0f0","--colorNeutralBackground4Hover":"#fafafa","--colorNeutralBackground4Pressed":"#f5f5f5","--colorNeutralBackground4Selected":"#ffffff","--colorNeutralBackground5":"#ebebeb","--colorNeutralBackground5Hover":"#f5f5f5","--colorNeutralBackground5Pressed":"#f0f0f0","--colorNeutralBackground5Selected":"#fafafa","--colorNeutralBackground6":"#e6e6e6","--colorNeutralBackgroundInverted":"#292929","--colorNeutralBackgroundStatic":"#333333","--colorNeutralBackgroundAlpha":"rgba(255,255,255,0.50)","--colorNeutralBackgroundAlpha2":"rgba(255,255,255,0.80)","--colorSubtleBackgroundHover":"#f5f5f5","--colorSubtleBackgroundPressed":"#e0e0e0","--colorSubtleBackgroundSelected":"#ebebeb","--colorSubtleBackgroundLightAlphaHover":"rgba(255, 255, 255, 0.7)","--colorSubtleBackgroundLightAlphaPressed":"rgba(255, 255, 255, 0.5)","--colorSubtleBackgroundInvertedHover":"rgba(0, 0, 0, 0.1)","--colorSubtleBackgroundInvertedPressed":"rgba(0, 0, 0, 0.3)","--colorSubtleBackgroundInvertedSelected":"rgba(0, 0, 0, 0.2)","--colorNeutralBackgroundDisabled":"#f0f0f0","--colorNeutralBackgroundInvertedDisabled":"rgba(255, 255, 255, 0.1)","--colorNeutralStencil1":"#e6e6e6","--colorNeutralStencil2":"#fafafa","--colorNeutralStencil1Alpha":"rgba(0, 0, 0, 0.1)","--colorNeutralStencil2Alpha":"rgba(0, 0, 0, 0.05)","--colorBackgroundOverlay":"rgba(0, 0, 0, 0.4)","--colorScrollbarOverlay":"rgba(0, 0, 0, 0.5)","--colorBrandBackground":"#5b5fc7","--colorBrandBackgroundHover":"#4f52b2","--colorBrandBackgroundPressed":"#383966","--colorBrandBackgroundSelected":"#444791","--colorCompoundBrandBackground":"#5b5fc7","--colorCompoundBrandBackgroundHover":"#4f52b2","--colorCompoundBrandBackgroundPressed":"#444791","--colorBrandBackgroundStatic":"#5b5fc7","--colorBrandBackground2":"#E8EBFA","--colorBrandBackground2Hover":"#dce0fa","--colorBrandBackground2Pressed":"#b6bcfa","--colorBrandBackground3Static":"#444791","--colorBrandBackground4Static":"#383966","--colorBrandBackgroundInverted":"#ffffff","--colorBrandBackgroundInvertedHover":"#e8ebfa","--colorBrandBackgroundInvertedPressed":"#c5cbfa","--colorBrandBackgroundInvertedSelected":"#dce0fa","--colorNeutralCardBackground":"#fafafa","--colorNeutralCardBackgroundHover":"#ffffff","--colorNeutralCardBackgroundPressed":"#f5f5f5","--colorNeutralCardBackgroundSelected":"#ebebeb","--colorNeutralCardBackgroundDisabled":"#f0f0f0","--colorNeutralStrokeAccessible":"#616161","--colorNeutralStrokeAccessibleHover":"#575757","--colorNeutralStrokeAccessiblePressed":"#4d4d4d","--colorNeutralStrokeAccessibleSelected":"#5b5fc7","--colorNeutralStroke1":"#d1d1d1","--colorNeutralStroke1Hover":"#c7c7c7","--colorNeutralStroke1Pressed":"#b3b3b3","--colorNeutralStroke1Selected":"#bdbdbd","--colorNeutralStroke2":"#e0e0e0","--colorNeutralStroke3":"#f0f0f0","--colorNeutralStrokeSubtle":"#e0e0e0","--colorNeutralStrokeOnBrand":"#ffffff","--colorNeutralStrokeOnBrand2":"#ffffff","--colorNeutralStrokeOnBrand2Hover":"#ffffff","--colorNeutralStrokeOnBrand2Pressed":"#ffffff","--colorNeutralStrokeOnBrand2Selected":"#ffffff","--colorBrandStroke1":"#5b5fc7","--colorBrandStroke2":"#c5cbfa","--colorBrandStroke2Hover":"#aab1fa","--colorBrandStroke2Pressed":"#5b5fc7","--colorBrandStroke2Contrast":"#c5cbfa","--colorCompoundBrandStroke":"#5b5fc7","--colorCompoundBrandStrokeHover":"#4f52b2","--colorCompoundBrandStrokePressed":"#444791","--colorNeutralStrokeDisabled":"#e0e0e0","--colorNeutralStrokeInvertedDisabled":"rgba(255, 255, 255, 0.4)","--colorNeutralStrokeAlpha":"rgba(0, 0, 0, 0.05)","--colorNeutralStrokeAlpha2":"rgba(255, 255, 255, 0.2)","--colorStrokeFocus1":"#ffffff","--colorStrokeFocus2":"#000000","--colorNeutralShadowAmbient":"rgba(0,0,0,0.12)","--colorNeutralShadowKey":"rgba(0,0,0,0.14)","--colorNeutralShadowAmbientLighter":"rgba(0,0,0,0.06)","--colorNeutralShadowKeyLighter":"rgba(0,0,0,0.07)","--colorNeutralShadowAmbientDarker":"rgba(0,0,0,0.20)","--colorNeutralShadowKeyDarker":"rgba(0,0,0,0.24)","--colorBrandShadowAmbient":"rgba(0,0,0,0.30)","--colorBrandShadowKey":"rgba(0,0,0,0.25)","--colorPaletteRedBackground1":"#fdf6f6","--colorPaletteRedBackground2":"#f1bbbc","--colorPaletteRedBackground3":"#d13438","--colorPaletteRedForeground1":"#bc2f32","--colorPaletteRedForeground2":"#751d1f","--colorPaletteRedForeground3":"#d13438","--colorPaletteRedBorderActive":"#d13438","--colorPaletteRedBorder1":"#f1bbbc","--colorPaletteRedBorder2":"#d13438","--colorPaletteGreenBackground1":"#f1faf1","--colorPaletteGreenBackground2":"#9fd89f","--colorPaletteGreenBackground3":"#107c10","--colorPaletteGreenForeground1":"#0e700e","--colorPaletteGreenForeground2":"#094509","--colorPaletteGreenForeground3":"#107c10","--colorPaletteGreenBorderActive":"#107c10","--colorPaletteGreenBorder1":"#9fd89f","--colorPaletteGreenBorder2":"#107c10","--colorPaletteDarkOrangeBackground1":"#fdf6f3","--colorPaletteDarkOrangeBackground2":"#f4bfab","--colorPaletteDarkOrangeBackground3":"#da3b01","--colorPaletteDarkOrangeForeground1":"#c43501","--colorPaletteDarkOrangeForeground2":"#7a2101","--colorPaletteDarkOrangeForeground3":"#da3b01","--colorPaletteDarkOrangeBorderActive":"#da3b01","--colorPaletteDarkOrangeBorder1":"#f4bfab","--colorPaletteDarkOrangeBorder2":"#da3b01","--colorPaletteYellowBackground1":"#fffef5","--colorPaletteYellowBackground2":"#fef7b2","--colorPaletteYellowBackground3":"#fde300","--colorPaletteYellowForeground1":"#817400","--colorPaletteYellowForeground2":"#817400","--colorPaletteYellowForeground3":"#fde300","--colorPaletteYellowBorderActive":"#fde300","--colorPaletteYellowBorder1":"#fef7b2","--colorPaletteYellowBorder2":"#fde300","--colorPaletteBerryBackground1":"#fdf5fc","--colorPaletteBerryBackground2":"#edbbe7","--colorPaletteBerryBackground3":"#c239b3","--colorPaletteBerryForeground1":"#af33a1","--colorPaletteBerryForeground2":"#6d2064","--colorPaletteBerryForeground3":"#c239b3","--colorPaletteBerryBorderActive":"#c239b3","--colorPaletteBerryBorder1":"#edbbe7","--colorPaletteBerryBorder2":"#c239b3","--colorPaletteLightGreenBackground1":"#f2fbf2","--colorPaletteLightGreenBackground2":"#a7e3a5","--colorPaletteLightGreenBackground3":"#13a10e","--colorPaletteLightGreenForeground1":"#11910d","--colorPaletteLightGreenForeground2":"#0b5a08","--colorPaletteLightGreenForeground3":"#13a10e","--colorPaletteLightGreenBorderActive":"#13a10e","--colorPaletteLightGreenBorder1":"#a7e3a5","--colorPaletteLightGreenBorder2":"#13a10e","--colorPaletteMarigoldBackground1":"#fefbf4","--colorPaletteMarigoldBackground2":"#f9e2ae","--colorPaletteMarigoldBackground3":"#eaa300","--colorPaletteMarigoldForeground1":"#d39300","--colorPaletteMarigoldForeground2":"#835b00","--colorPaletteMarigoldForeground3":"#eaa300","--colorPaletteMarigoldBorderActive":"#eaa300","--colorPaletteMarigoldBorder1":"#f9e2ae","--colorPaletteMarigoldBorder2":"#eaa300","--colorPaletteRedForegroundInverted":"#dc5e62","--colorPaletteGreenForegroundInverted":"#359b35","--colorPaletteYellowForegroundInverted":"#fef7b2","--colorPaletteDarkRedBackground2":"#d69ca5","--colorPaletteDarkRedForeground2":"#420610","--colorPaletteDarkRedBorderActive":"#750b1c","--colorPaletteCranberryBackground2":"#eeacb2","--colorPaletteCranberryForeground2":"#6e0811","--colorPaletteCranberryBorderActive":"#c50f1f","--colorPalettePumpkinBackground2":"#efc4ad","--colorPalettePumpkinForeground2":"#712d09","--colorPalettePumpkinBorderActive":"#ca5010","--colorPalettePeachBackground2":"#ffddb3","--colorPalettePeachForeground2":"#8f4e00","--colorPalettePeachBorderActive":"#ff8c00","--colorPaletteGoldBackground2":"#ecdfa5","--colorPaletteGoldForeground2":"#6c5700","--colorPaletteGoldBorderActive":"#c19c00","--colorPaletteBrassBackground2":"#e0cea2","--colorPaletteBrassForeground2":"#553e06","--colorPaletteBrassBorderActive":"#986f0b","--colorPaletteBrownBackground2":"#ddc3b0","--colorPaletteBrownForeground2":"#50301a","--colorPaletteBrownBorderActive":"#8e562e","--colorPaletteForestBackground2":"#bdd99b","--colorPaletteForestForeground2":"#294903","--colorPaletteForestBorderActive":"#498205","--colorPaletteSeafoamBackground2":"#a8f0cd","--colorPaletteSeafoamForeground2":"#00723b","--colorPaletteSeafoamBorderActive":"#00cc6a","--colorPaletteDarkGreenBackground2":"#9ad29a","--colorPaletteDarkGreenForeground2":"#063b06","--colorPaletteDarkGreenBorderActive":"#0b6a0b","--colorPaletteLightTealBackground2":"#a6e9ed","--colorPaletteLightTealForeground2":"#00666d","--colorPaletteLightTealBorderActive":"#00b7c3","--colorPaletteTealBackground2":"#9bd9db","--colorPaletteTealForeground2":"#02494c","--colorPaletteTealBorderActive":"#038387","--colorPaletteSteelBackground2":"#94c8d4","--colorPaletteSteelForeground2":"#00333f","--colorPaletteSteelBorderActive":"#005b70","--colorPaletteBlueBackground2":"#a9d3f2","--colorPaletteBlueForeground2":"#004377","--colorPaletteBlueBorderActive":"#0078d4","--colorPaletteRoyalBlueBackground2":"#9abfdc","--colorPaletteRoyalBlueForeground2":"#002c4e","--colorPaletteRoyalBlueBorderActive":"#004e8c","--colorPaletteCornflowerBackground2":"#c8d1fa","--colorPaletteCornflowerForeground2":"#2c3c85","--colorPaletteCornflowerBorderActive":"#4f6bed","--colorPaletteNavyBackground2":"#a3b2e8","--colorPaletteNavyForeground2":"#001665","--colorPaletteNavyBorderActive":"#0027b4","--colorPaletteLavenderBackground2":"#d2ccf8","--colorPaletteLavenderForeground2":"#3f3682","--colorPaletteLavenderBorderActive":"#7160e8","--colorPalettePurpleBackground2":"#c6b1de","--colorPalettePurpleForeground2":"#341a51","--colorPalettePurpleBorderActive":"#5c2e91","--colorPaletteGrapeBackground2":"#d9a7e0","--colorPaletteGrapeForeground2":"#4c0d55","--colorPaletteGrapeBorderActive":"#881798","--colorPaletteLilacBackground2":"#e6bfed","--colorPaletteLilacForeground2":"#63276d","--colorPaletteLilacBorderActive":"#b146c2","--colorPalettePinkBackground2":"#f7c0e3","--colorPalettePinkForeground2":"#80215d","--colorPalettePinkBorderActive":"#e43ba6","--colorPaletteMagentaBackground2":"#eca5d1","--colorPaletteMagentaForeground2":"#6b0043","--colorPaletteMagentaBorderActive":"#bf0077","--colorPalettePlumBackground2":"#d696c0","--colorPalettePlumForeground2":"#43002b","--colorPalettePlumBorderActive":"#77004d","--colorPaletteBeigeBackground2":"#d7d4d4","--colorPaletteBeigeForeground2":"#444241","--colorPaletteBeigeBorderActive":"#7a7574","--colorPaletteMinkBackground2":"#cecccb","--colorPaletteMinkForeground2":"#343231","--colorPaletteMinkBorderActive":"#5d5a58","--colorPalettePlatinumBackground2":"#cdd6d8","--colorPalettePlatinumForeground2":"#3b4447","--colorPalettePlatinumBorderActive":"#69797e","--colorPaletteAnchorBackground2":"#bcc3c7","--colorPaletteAnchorForeground2":"#202427","--colorPaletteAnchorBorderActive":"#394146","--colorStatusSuccessBackground1":"#f1faf1","--colorStatusSuccessBackground2":"#9fd89f","--colorStatusSuccessBackground3":"#107c10","--colorStatusSuccessForeground1":"#0e700e","--colorStatusSuccessForeground2":"#094509","--colorStatusSuccessForeground3":"#107c10","--colorStatusSuccessForegroundInverted":"#54b054","--colorStatusSuccessBorderActive":"#107c10","--colorStatusSuccessBorder1":"#9fd89f","--colorStatusSuccessBorder2":"#107c10","--colorStatusWarningBackground1":"#fff9f5","--colorStatusWarningBackground2":"#fdcfb4","--colorStatusWarningBackground3":"#f7630c","--colorStatusWarningForeground1":"#bc4b09","--colorStatusWarningForeground2":"#8a3707","--colorStatusWarningForeground3":"#bc4b09","--colorStatusWarningForegroundInverted":"#faa06b","--colorStatusWarningBorderActive":"#f7630c","--colorStatusWarningBorder1":"#fdcfb4","--colorStatusWarningBorder2":"#bc4b09","--colorStatusDangerBackground1":"#fdf3f4","--colorStatusDangerBackground2":"#eeacb2","--colorStatusDangerBackground3":"#c50f1f","--colorStatusDangerForeground1":"#b10e1c","--colorStatusDangerForeground2":"#6e0811","--colorStatusDangerForeground3":"#c50f1f","--colorStatusDangerForegroundInverted":"#dc626d","--colorStatusDangerBorderActive":"#c50f1f","--colorStatusDangerBorder1":"#eeacb2","--colorStatusDangerBorder2":"#c50f1f","--colorStatusDangerBackground3Hover":"#b10e1c","--colorStatusDangerBackground3Pressed":"#960b18","--backgroundCanvas":"#fff","--colorAvatar":"#5b5fc7","--colorAvatarBackground":"#c5cbfa","--colorDefaultBackground7":"#F5F5F5","--colorTeamsBrand1Hover":"#4f52b2","--colorTeamsBrand1Pressed":"#444791","--colorTeamsBrand1Selected":"#444791","--colorTeamsNeutralStrokeSubtleAlpha":"rgba(0,0,0,.95)","--colorPaletteRedForeground1HCBlack":"#bc2f32","--colorPaletteRedBackground3Hover":"#BC2E2E","--colorPaletteRedBackground3Pressed":"#9F282B","--colorTeamsButtonCompositeHoverShadow1":"rgba(93, 91, 212, 0.05)","--colorTeamsButtonCompositeHoverShadow2":"rgba(159, 162, 252, 0.08)","--colorTeamsButtonCompositeHoverShadow3":"rgba(251, 174, 164, 0.08)","--colorTeamsButtonCompositeHoverShadow4":"rgba(121, 207, 255, 0.08)","--colorTeamsButtonCompositeFocusShadow1":"rgba(93, 91, 212, 0.1)","--colorTeamsButtonCompositeFocusShadow2":"rgba(159, 162, 252, 0.15)","--colorTeamsButtonCompositeFocusShadow3":"rgba(251, 174, 164, 0.1)","--colorTeamsButtonCompositeFocusShadow4":"rgba(121, 207, 255, 0.1)","--colorTeamsCompositeHoverShadow1":"rgba(93, 91, 212, 0.1)","--colorTeamsCompositeHoverShadow2":"rgba(159, 162, 252, 0.06)","--colorTeamsCompositeHoverShadow3":"rgba(251, 174, 164, 0.1)","--colorTeamsCompositeHoverShadow4":"rgba(121, 207, 255, 0.05)","--colorTeamsCompositeActiveShadow1":"rgba(93, 91, 212, 0.2)","--colorTeamsCompositeActiveShadow2":"rgba(159, 162, 252, 0.12)","--colorTeamsCompositeActiveShadow3":"rgba(251, 174, 164, 0.2)","--colorTeamsCompositeActiveShadow4":"rgba(121, 207, 255, 0.2)"},e={"--borderRadiusNone":"0","--borderRadiusSmall":"2px","--borderRadiusMedium":"4px","--borderRadiusLarge":"6px","--borderRadiusXLarge":"8px","--borderRadiusCircular":"10000px","--fontSizeBase100":"10px","--fontSizeBase200":"12px","--fontSizeBase300":"14px","--fontSizeBase400":"16px","--fontSizeBase500":"20px","--fontSizeBase600":"24px","--fontSizeHero700":"28px","--fontSizeHero800":"32px","--fontSizeHero900":"40px","--fontSizeHero1000":"68px","--lineHeightBase100":"14px","--lineHeightBase200":"16px","--lineHeightBase300":"20px","--lineHeightBase400":"22px","--lineHeightBase500":"28px","--lineHeightBase600":"32px","--lineHeightHero700":"36px","--lineHeightHero800":"40px","--lineHeightHero900":"52px","--lineHeightHero1000":"92px","--fontWeightRegular":"400","--fontWeightMedium":"500","--fontWeightSemibold":"600","--fontWeightBold":"700","--strokeWidthThin":"1px","--strokeWidthThick":"2px","--strokeWidthThicker":"3px","--strokeWidthThickest":"4px","--spacingHorizontalNone":"0","--spacingHorizontalXXS":"2px","--spacingHorizontalXS":"4px","--spacingHorizontalSNudge":"6px","--spacingHorizontalS":"8px","--spacingHorizontalMNudge":"10px","--spacingHorizontalM":"12px","--spacingHorizontalL":"16px","--spacingHorizontalXL":"20px","--spacingHorizontalXXL":"24px","--spacingHorizontalXXXL":"32px","--spacingVerticalNone":"0","--spacingVerticalXXS":"2px","--spacingVerticalXS":"4px","--spacingVerticalSNudge":"6px","--spacingVerticalS":"8px","--spacingVerticalMNudge":"10px","--spacingVerticalM":"12px","--spacingVerticalL":"16px","--spacingVerticalXL":"20px","--spacingVerticalXXL":"24px","--spacingVerticalXXXL":"32px","--shadow2":"0 0 2px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.14)","--shadow4":"0 0 2px rgba(0,0,0,0.12), 0 2px 4px rgba(0,0,0,0.14)","--shadow8":"0 0 2px rgba(0,0,0,0.12), 0 4px 8px rgba(0,0,0,0.14)","--shadow16":"0 0 2px rgba(0,0,0,0.12), 0 8px 16px rgba(0,0,0,0.14)","--shadow28":"0 0 8px rgba(0,0,0,0.12), 0 14px 28px rgba(0,0,0,0.14)","--shadow64":"0 0 8px rgba(0,0,0,0.12), 0 32px 64px rgba(0,0,0,0.14)","--shadow2Brand":"0 0 2px rgba(0,0,0,0.30), 0 1px 2px rgba(0,0,0,0.25)","--shadow4Brand":"0 0 2px rgba(0,0,0,0.30), 0 2px 4px rgba(0,0,0,0.25)","--shadow8Brand":"0 0 2px rgba(0,0,0,0.30), 0 4px 8px rgba(0,0,0,0.25)","--shadow16Brand":"0 0 2px rgba(0,0,0,0.30), 0 8px 16px rgba(0,0,0,0.25)","--shadow28Brand":"0 0 8px rgba(0,0,0,0.30), 0 14px 28px rgba(0,0,0,0.25)","--shadow64Brand":"0 0 8px rgba(0,0,0,0.30), 0 32px 64px rgba(0,0,0,0.25)"},r={fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, "Apple Color Emoji", "Segoe UI Emoji", sans-serif',imports:""},n={ff:"rgb(36, 36, 36)",oh:"rgb(36, 36, 36)",jg:"rgb(250, 250, 250)","ui-toolbar__item":"rgb(36, 36, 36)",oi:"rgb(36, 36, 36)","fui-StyledText":"rgb(36, 36, 36)","ui-popup__content__content":"#F5F5F5","ui-list__item:hover":"rgb(245, 245, 245)"},o={ff:"color",oh:"color",jg:"background","ui-toolbar__item":"color",oi:"color","fui-StyledText":"color","ui-popup__content__content":"background","ui-list__item:hover":"background"},a={"Default Teams Theme":'{"data":{"varColors":{},"classColors":{},"fonts":{"fontFamily":"-apple-system, BlinkMacSystemFont, \\"Segoe UI\\", system-ui, \\"Apple Color Emoji\\", \\"Segoe UI Emoji\\", sans-serif","imports":""},"otherSettings":{},"twemojiSupport":false},"name":"Default Teams Theme","data_version":1}',"Cozy Dark Blue theme":'{"data":{"varColors":{"--colorNeutralForeground1":"#FFFFFF","--colorNeutralForeground2":"#FFFFFF","--colorNeutralForeground3":"#777AC6","--colorBrandForegroundLink":"#54D0FF","--colorBrandForegroundLinkHover":"#FFFFFF","--colorBrandForeground1":"#FFFFFF","--colorBrandForeground2":"#FFFFFF","--colorBrandForeground2Hover":"#FFFFFF","--colorNeutralForegroundInverted":"#FFFFFF","--colorNeutralBackground1":"#002457","--colorNeutralBackground2":"#000000","--colorNeutralBackground3":"#000E57","--colorNeutralBackground4":"#000000","--colorNeutralBackground5":"#001271","--colorBrandBackground":"#000000","--colorBrandBackgroundHover":"#828282","--colorBrandBackground2":"#00527C","--colorBrandBackgroundInverted":"#FFFFFF","--colorNeutralCardBackground":"#202020","--colorNeutralStrokeAccessibleSelected":"#FFFFFF","--colorNeutralStroke1":"#00000000","--colorNeutralStroke2":"#0756AE00","--colorNeutralStroke3":"#002B7C00","--colorNeutralStrokeSubtle":"#E0E0E000","--colorNeutralStrokeOnBrand":"#FFFFFF00","--colorNeutralStrokeOnBrand2":"#FFFFFF00","--backgroundCanvas":"#002985","--colorAvatar":"#FFFFFF","--colorAvatarBackground":"#C9CFFF","--colorDefaultBackground7":"#001D54","--colorTeamsBrand1Hover":"#FFFFFF"},"classColors":{"ff":"#FFFFFF","oh":"#FFFFFF","jg":"#00000000","ui-toolbar__item":"#FFFFFF","oi":"#FFFFFF","fui-StyledText":"#FFFFFF"},"fonts":{"fontFamily":"\\"Inter\\", courier","imports":"@import url(\'https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap\');"},"otherSettings":{"--borderRadiusMedium":"20px"},"twemojiSupport":true},"name":"Cozy Dark Blue theme","data_version":1}'};function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function i(){i=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",d=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var a=e&&e.prototype instanceof b?e:b,u=Object.create(a.prototype),i=new T(n||[]);return o(u,"_invoke",{value:B(t,r,i)}),u}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",y="suspendedYield",g="executing",v="completed",m={};function b(){}function w(){}function x(){}var k={};s(k,c,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(_([])));E&&E!==r&&n.call(E,c)&&(k=E);var L=x.prototype=b.prototype=Object.create(k);function P(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function F(t,e){function r(o,a,i,c){var d=h(t[o],t,a);if("throw"!==d.type){var l=d.arg,s=l.value;return s&&"object"==u(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(d.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function B(e,r,n){var o=p;return function(a,u){if(o===g)throw Error("Generator is already running");if(o===v){if("throw"===a)throw u;return{value:t,done:!0}}for(n.method=a,n.arg=u;;){var i=n.delegate;if(i){var c=j(i,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var d=h(e,r,n);if("normal"===d.type){if(o=n.done?v:y,d.arg===m)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=v,n.method="throw",n.arg=d.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=h(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,m;var u=a.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function _(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(u(e)+" is not iterable")}return w.prototype=x,o(L,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=s(x,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,s(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},P(F.prototype),s(F.prototype,d,(function(){return this})),e.AsyncIterator=F,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new F(f(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},P(L),s(L,l,"Generator"),s(L,c,(function(){return this})),s(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=_,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),d=n.call(u,"finallyLoc");if(c&&d){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:_(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function d(t,e,r){return(e=l(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l(t){var e=function(t){if("object"!=u(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==u(e)?e:e+""}function s(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){s(a,n,o,u,i,"next",t)}function i(t){s(a,n,o,u,i,"throw",t)}u(void 0)}))}}function h(t){return p.apply(this,arguments)}function p(){return(p=f(i().mark((function t(e){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.local.get([e]);case 2:if(t.t0=e,null!=(r=t.sent[t.t0])){t.next=7;break}return console.log("Nothing with basi ckey loaded"),t.abrupt("return");case 7:return console.log("loaded key"),t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){for(var r in e)r in t==0&&(console.log("Missing property ".concat(r,". Setting to default.")),t[r]=e[r]);for(var n in t)n in e==0&&(console.log("Additional property ".concat(n,". Removing")),delete t[n]);return t}var g=function(){return o=function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),d(this,"currentColors",t),d(this,"currentClassesColors",n),d(this,"currentFonts",r),d(this,"currentPixelValues",e),d(this,"currentThemes",a),console.log("Created new DataManager instance")},u=[{key:"loadAll",value:(b=f(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadColors();case 2:return t.next=4,this.loadClassColors();case 4:return t.next=6,this.loadFonts();case 6:return t.next=8,this.loadPixelValues();case 8:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)})},{key:"loadColors",value:(m=f(i().mark((function e(){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("colors");case 2:if(!(r=e.sent)){e.next=7;break}return n=y(r,t),this.currentColors=n,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"loadClassColors",value:(v=f(i().mark((function t(){var e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h("classColors");case 2:if(!(e=t.sent)){t.next=7;break}return r=y(e,n),this.currentClassesColors=r,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})},{key:"loadFonts",value:(g=f(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h("fonts");case 2:if(!(e=t.sent)){t.next=6;break}return this.currentFonts=e,t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"loadPixelValues",value:(p=f(i().mark((function t(){var r,n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h("pixelValues");case 2:if(!(r=t.sent)){t.next=7;break}return n=y(r,e),this.currentPixelValues=n,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{key:"loadThemes",value:(s=f(i().mark((function t(){var e;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h("themes");case 2:if(null==(e=t.sent)){t.next=8;break}return console.log("themes loaded: ",e),this.currentThemes=e,this.saveThemes(),t.abrupt("return",e);case 8:return console.error("No themes loaded: ",e),t.abrupt("return");case 10:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"isTwemojiEnabled",value:(l=f(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.local.get(["twemoji"]);case 2:return t.t0=t.sent.twemoji,t.abrupt("return",1==t.t0);case 4:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)})},{key:"u_onlyExportChanged",value:function(t,e){var r={};for(var n in e){var o=t[n];o!=e[n]&&(r[n]=o)}return r}},{key:"saveThemes",value:function(){console.log("Save themes: ",this.currentThemes),chrome.storage.local.set({themes:this.currentThemes})}},{key:"saveColors",value:function(){chrome.storage.local.set({colors:this.currentColors})}},{key:"saveFonts",value:function(){chrome.storage.local.set({fonts:this.currentFonts})}},{key:"savePixelValues",value:function(){chrome.storage.local.set({pixelValues:this.currentPixelValues})}},{key:"saveClassColors",value:function(){console.log("Save: ",this.currentClassesColors),chrome.storage.local.set({classColors:this.currentClassesColors})}},{key:"saveAll",value:function(){this.saveColors(),this.saveClassColors(),this.savePixelValues(),this.saveFonts()}}],u&&c(o.prototype,u),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,u,l,s,p,g,v,m,b}();const v=function(){var t={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(t){var e="string"==typeof t?parseInt(t,16):t;return e<65536?i(e):i(55296+((e-=65536)>>10),56320+(1023&e))},toCodePoint:v},onerror:function(){this.parentNode&&this.parentNode.replaceChild(c(this.alt,!1),this)},parse:function(e,r){return r&&"function"!=typeof r||(r={callback:r}),("string"==typeof e?h:f)(e,{callback:r.callback||d,attributes:"function"==typeof r.attributes?r.attributes:y,base:"string"==typeof r.base?r.base:t.base,ext:r.ext||t.ext,size:r.folder||(n=r.size||t.size,"number"==typeof n?n+"x"+n:n),className:r.className||t.className,onerror:r.onerror||t.onerror});var n},replace:g,test:function(t){r.lastIndex=0;var e=r.test(t);return r.lastIndex=0,e}},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},r=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,n=/\uFE0F/g,o=String.fromCharCode(8205),a=/[&<>'"]/g,u=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,i=String.fromCharCode;return t;function c(t,e){return document.createTextNode(e?t.replace(n,""):t)}function d(t,e){return"".concat(e.base,e.size,"/",t,e.ext)}function l(t,e){for(var r,n,o=t.childNodes,a=o.length;a--;)3===(n=(r=o[a]).nodeType)?e.push(r):1!==n||"ownerSVGElement"in r||u.test(r.nodeName.toLowerCase())||l(r,e);return e}function s(t){return v(t.indexOf(o)<0?t.replace(n,""):t)}function f(t,e){for(var n,o,a,u,i,d,f,h,p,y,g,v,m,b=l(t,[]),w=b.length;w--;){for(a=!1,u=document.createDocumentFragment(),d=(i=b[w]).nodeValue,h=0;f=r.exec(d);){if((p=f.index)!==h&&u.appendChild(c(d.slice(h,p),!0)),v=s(g=f[0]),h=p+g.length,m=e.callback(v,e),v&&m){for(o in(y=new Image).onerror=e.onerror,y.setAttribute("draggable","false"),n=e.attributes(g,v))n.hasOwnProperty(o)&&0!==o.indexOf("on")&&!y.hasAttribute(o)&&y.setAttribute(o,n[o]);y.className=e.className,y.alt=g,y.src=m,a=!0,u.appendChild(y)}y||u.appendChild(c(g,!1)),y=null}a&&(h<d.length&&u.appendChild(c(d.slice(h),!0)),i.parentNode.replaceChild(u,i))}return t}function h(t,e){return g(t,(function(t){var r,n,o=t,u=s(t),i=e.callback(u,e);if(u&&i){for(n in o="<img ".concat('class="',e.className,'" ','draggable="false" ','alt="',t,'"',' src="',i,'"'),r=e.attributes(t,u))r.hasOwnProperty(n)&&0!==n.indexOf("on")&&-1===o.indexOf(" "+n+"=")&&(o=o.concat(" ",n,'="',r[n].replace(a,p),'"'));o=o.concat("/>")}return o}))}function p(t){return e[t]}function y(){return null}function g(t,e){return String(t).replace(r,e)}function v(t,e){for(var r=[],n=0,o=0,a=0;a<t.length;)n=t.charCodeAt(a++),o?(r.push((65536+(o-55296<<10)+(n-56320)).toString(16)),o=0):55296<=n&&n<=56319?o=n:r.push(n.toString(16));return r.join(e||"-")}}();function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function w(){w=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,u=Object.create(a.prototype),i=new T(n||[]);return o(u,"_invoke",{value:B(t,r,i)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",g={};function v(){}function b(){}function x(){}var k={};d(k,u,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(_([])));E&&E!==r&&n.call(E,u)&&(k=E);var L=x.prototype=v.prototype=Object.create(k);function P(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function F(t,e){function r(o,a,u,i){var c=s(t[o],t,a);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==m(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,i)}),(function(t){r("throw",t,u,i)})):e.resolve(l).then((function(t){d.value=t,u(d)}),(function(t){return r("throw",t,u,i)}))}i(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function B(e,r,n){var o=f;return function(a,u){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===a)throw u;return{value:t,done:!0}}for(n.method=a,n.arg=u;;){var i=n.delegate;if(i){var c=j(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var d=s(e,r,n);if("normal"===d.type){if(o=n.done?y:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=y,n.method="throw",n.arg=d.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=s(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var u=a.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function _(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(m(e)+" is not iterable")}return b.prototype=x,o(L,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:b,configurable:!0}),b.displayName=d(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,d(t,c,"GeneratorFunction")),t.prototype=Object.create(L),t},e.awrap=function(t){return{__await:t}},P(F.prototype),d(F.prototype,i,(function(){return this})),e.AsyncIterator=F,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new F(l(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},P(L),d(L,c,"Generator"),d(L,u,(function(){return this})),d(L,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=_,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),d=n.call(u,"finallyLoc");if(c&&d){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),C(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:_(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function x(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function k(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S(n.key),n)}}function S(t){var e=function(t){if("object"!=m(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==m(e)?e:e+""}var E=function(t){console.log("New emoji IMG warpper detected, parsing twemoji");try{var e=t.parentElement;if(null==e)return;var r=e.parentNode;if(null==r)throw console.log(e),new Error("No original parent");var n=t.getAttribute("alt"),o=t.getBoundingClientRect();if(null==n)console.error("Unicode not found");else{null==t.querySelector(".fui-ChatMyMessage")?e.outerHTML="".concat(n):e.innerHTML="".concat(n);var a=v.parse(r,{base:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/",folder:"72x72",ext:".png"});a.style.width="".concat(o.width,"px !important"),a.style.height="".concat(o.height,"px !important")}}catch(t){console.error("Failed to convert emoji img to chr",t)}finally{console.log("Convert img to char success")}},L=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dataManager=e},e=[{key:"p_dataManagerExists",value:function(){if(null==this.dataManager)throw new Error("Where is data manager")}},{key:"applyTwemoji",value:(r=w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.p_dataManagerExists(),t.next=3,this.dataManager.isTwemojiEnabled();case 3:if(0!=t.sent){t.next=7;break}return console.error("Twemoji is not enabled.Skipping Twemoji"),t.abrupt("return");case 7:this.detectNewMessages();case 8:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,e=arguments;return new Promise((function(n,o){var a=r.apply(t,e);function u(t){x(a,n,o,u,i,"next",t)}function i(t){x(a,n,o,u,i,"throw",t)}u(void 0)}))},function(){return n.apply(this,arguments)})},{key:"detectNewMessages",value:function(){var t=document.body,e={childList:!0,subtree:!0},r=function(t,e){var r,o=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return b(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,i=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){i=!0,a=t},f:function(){try{u||null==r.return||r.return()}finally{if(i)throw a}}}}(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;"childList"===a.type&&a.addedNodes.length>0&&a.addedNodes.forEach((function(t){t instanceof HTMLElement&&"message-wrapper"===t.dataset.testid&&n(t),t instanceof HTMLElement&&"chat-pane-compose-message-footer"===t.dataset.tid&&n(t),t instanceof HTMLElement&&"http://schema.skype.com/Emoji"==t.getAttribute("itemtype")&&E(t),t instanceof HTMLElement&&"message-hover-reactions"===t.dataset.inp&&n(t),t instanceof HTMLElement&&"emoji-tab-category-grid"===t.dataset.tid&&n(t),(t instanceof HTMLElement||t instanceof DocumentFragment)&&(t.querySelectorAll('[data-testid="message-wrapper"]').forEach((function(t,e){return n(t)})),t.querySelectorAll('[itemtype="http://schema.skype.com/Emoji"]').forEach((function(t,e){return E(t)})),t.querySelectorAll('[data-inp="message-hover-reactions"]').forEach((function(t,e){return n(t)})),t.querySelectorAll('[data-tid="emoji-tab-category-grid"]').forEach((function(t,e){return n(t)})))}))}}catch(t){o.e(t)}finally{o.f()}},n=function(t){console.log("New message wrapper detected:",t,", parsing twemoji"),v.parse(t,{base:"https://cdnjs.cloudflare.com/ajax/libs/twemoji/15.1.0/",folder:"72x72",ext:".png"})};new MutationObserver(r).observe(t,e),new MutationObserver(r).observe(t,e)}}],e&&k(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n}();function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j(n.key),n)}}function B(t,e,r){return(e=j(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j(t){var e=function(t){if("object"!=P(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==P(e)?e:e+""}var O=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),B(this,"styleElement",null),B(this,"emojithis",null),this.dataManager=e},(e=[{key:"p_dataManagerExists",value:function(){if(null==this.dataManager)throw new Error("Where is data manager")}},{key:"p_emojiThisExists",value:function(){if(null==this.emojithis)throw new Error("where emojithis")}},{key:"applyColors",value:function(){this.p_dataManagerExists(),console.log("applying"),this.styleElement=document.createElement("style"),this.styleElement.type="text/css";var t="";for(var e in this.dataManager.currentColors)console.log("co: applying ",e),t+="".concat(e,": ").concat(this.dataManager.currentColors[e]," !important;\n");for(var r in this.dataManager.currentPixelValues)console.log("px: applying ",r),t+="".concat(r,": ").concat(this.dataManager.currentPixelValues[r]," !important; \n");var n="";for(var a in this.dataManager.currentClassesColors){var u=o[a];n+=".".concat(a,"{").concat(u,": ").concat(this.dataManager.currentClassesColors[a]," !important;}\n")}this.styleElement.innerHTML=".fui-FluentProviderr0 {\n".concat(t,"\n} ").concat(n,"\n").concat("\n        \n        .emoji{\n            width: 1em;\n            height: 1em;\n            margin-right: 2px;\n            vertical-align: middle;\n        }\n        "),console.log(this.styleElement.innerHTML),document.head.appendChild(this.styleElement)}},{key:"applyFonts",value:function(t){if(this.p_dataManagerExists(),this.emojithis=document.createElement("style"),this.emojithis.type="text/css",this.p_emojiThisExists(),null!=this.dataManager.currentFonts){this.emojithis=document.createElement("style"),this.emojithis.type="text/css";var e="--fontFamilyBase: ".concat(this.dataManager.currentFonts.fontFamily," !important;}"),r=this.dataManager.currentFonts.imports,n=".fui-FluentProviderr0 {\n".concat(e,"\n}"),o="* {\n".concat(e,"\n}");return this.emojithis.innerHTML="".concat(r,"\n").concat(o,"\n").concat(n),console.log(this.emojithis.innerHTML),null==t?(document.head.appendChild(this.emojithis),this.emojithis):(t.appendChild(this.emojithis),this.emojithis)}}},{key:"deleteFontsStyle",value:function(){null!=this.emojithis&&(this.emojithis.remove(),this.emojithis=null)}},{key:"deleteStyle",value:function(){null!=this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}}])&&F(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function T(){T=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,u=Object.create(a.prototype),i=new O(n||[]);return o(u,"_invoke",{value:P(t,r,i)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",g={};function v(){}function m(){}function b(){}var w={};d(w,u,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(_([])));k&&k!==r&&n.call(k,u)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,u,i){var c=s(t[o],t,a);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==C(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,i)}),(function(t){r("throw",t,u,i)})):e.resolve(l).then((function(t){d.value=t,u(d)}),(function(t){return r("throw",t,u,i)}))}i(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=f;return function(a,u){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===a)throw u;return{value:t,done:!0}}for(n.method=a,n.arg=u;;){var i=n.delegate;if(i){var c=F(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var d=s(e,r,n);if("normal"===d.type){if(o=n.done?y:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=y,n.method="throw",n.arg=d.arg)}}}function F(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,F(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=s(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var u=a.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function _(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(C(e)+" is not iterable")}return m.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=d(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(L.prototype),d(L.prototype,i,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},E(S),d(S,c,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=_,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),d=n.call(u,"finallyLoc");if(c&&d){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:_(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function _(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function N(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,M(n.key),n)}}function M(t){var e=function(t){if("object"!=C(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==C(e)?e:e+""}var A=function(){return t=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stylesRuntime=r,this.dataManager=e},e=[{key:"detectChange",value:function(){var t=this;console.log("start change detect"),chrome.storage.onChanged.addListener(function(){var e,r=(e=T().mark((function e(r,n){var o;return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("local"!==n){e.next=31;break}e.t0=T().keys(r);case 2:if((e.t1=e.t0()).done){e.next=31;break}if(o=e.t1.value,!r.hasOwnProperty(o)){e.next=29;break}if("colors"!=o){e.next=11;break}return console.log("Change detected!"),e.next=9,t.dataManager.loadColors();case 9:t.stylesRuntime.deleteStyle(),t.stylesRuntime.applyColors();case 11:if("fonts"!=o){e.next=17;break}return console.log("Change detected fonts"),e.next=15,t.dataManager.loadFonts();case 15:t.stylesRuntime.deleteFontsStyle(),t.stylesRuntime.applyFonts(null);case 17:if("classColors"!=o){e.next=23;break}return console.log("Change detected classes"),e.next=21,t.dataManager.loadClassColors();case 21:t.stylesRuntime.deleteStyle(),t.stylesRuntime.applyColors();case 23:if("pixelValues"!=o){e.next=29;break}return console.log("Change detected pixel values"),e.next=27,t.dataManager.loadPixelValues();case 27:t.stylesRuntime.deleteStyle(),t.stylesRuntime.applyColors();case 29:e.next=2;break;case 31:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function u(t){_(a,n,o,u,i,"next",t)}function i(t){_(a,n,o,u,i,"throw",t)}u(void 0)}))});return function(t,e){return r.apply(this,arguments)}}())}}],e&&N(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),I=new DOMParser;function G(t){return new Promise((function(e,r){var n=new MutationObserver((function(r){var o=document.querySelector(t);o&&(n.disconnect(),e(o))}));n.observe(document.body,{childList:!0,subtree:!0}),setTimeout((function(){n.disconnect(),r(new Error("Element not found within time limit"))}),1e4)}))}function D(t){return I.parseFromString(t,"text/html").body.firstElementChild}var H="https://apiteamsplus.pythonanywhere.com";function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function U(t){return function(t){if(Array.isArray(t))return Y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Y(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Y(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function V(){V=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,u=Object.create(a.prototype),i=new O(n||[]);return o(u,"_invoke",{value:P(t,r,i)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",g={};function v(){}function m(){}function b(){}var w={};d(w,u,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==r&&n.call(k,u)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,u,i){var c=s(t[o],t,a);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==R(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,i)}),(function(t){r("throw",t,u,i)})):e.resolve(l).then((function(t){d.value=t,u(d)}),(function(t){return r("throw",t,u,i)}))}i(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=f;return function(a,u){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===a)throw u;return{value:t,done:!0}}for(n.method=a,n.arg=u;;){var i=n.delegate;if(i){var c=F(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var d=s(e,r,n);if("normal"===d.type){if(o=n.done?y:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=y,n.method="throw",n.arg=d.arg)}}}function F(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,F(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=s(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var u=a.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(R(e)+" is not iterable")}return m.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=d(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(L.prototype),d(L.prototype,i,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},E(S),d(S,c,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),d=n.call(u,"finallyLoc");if(c&&d){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z(n.key),n)}}function z(t){var e=function(t){if("object"!=R(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==R(e)?e:e+""}function X(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function W(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){X(a,n,o,u,i,"next",t)}function i(t){X(a,n,o,u,i,"throw",t)}u(void 0)}))}}function K(t){return J.apply(this,arguments)}function J(){return J=W(V().mark((function t(e){var r,n,o,a,u,i,c=arguments;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="public"===(r=c.length>1&&void 0!==c[1]?c[1]:"public")?"spki":"pkcs8",o="public"===r?"PUBLIC KEY":"PRIVATE KEY",t.next=5,window.crypto.subtle.exportKey(n,e);case 5:return a=t.sent,u=btoa(String.fromCharCode.apply(String,U(new Uint8Array(a)))),i=["-----BEGIN ".concat(o,"-----")].concat(U(u.match(/.{1,64}/g)),["-----END ".concat(o,"-----")]).join("\n"),t.abrupt("return",i);case 9:case"end":return t.stop()}}),t)}))),J.apply(this,arguments)}function Q(t){for(var e=atob(t),r=e.length,n=new Uint8Array(r),o=0;o<r;o++)n[o]=e.charCodeAt(o);return n}var Z=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.asyncInit()},e=[{key:"waitForKey",value:(i=W(V().mark((function t(){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.aesKey&&null!=this.aesKey){t.next=5;break}return t.next=3,new Promise((function(t){return setTimeout(t,100)}));case 3:t.next=0;break;case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"asyncInit",value:(u=W(V().mark((function t(){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.createRSAKeypair();case 2:return t.next=4,this.getSharedAESKey();case 4:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"createRSAKeypair",value:(a=W(V().mark((function t(){return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Creating RSA keypair"),t.next=3,window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]);case 3:this.keypair=t.sent,console.log("Keypair OK");case 5:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getSharedAESKey",value:(o=W(V().mark((function t(){var e,r,n;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Attempt to establish safe-tunnel connection"),t.t0=fetch,t.t1="".concat(H,"/api/v1/safe_tunnel/handshake"),t.t2=JSON,t.next=6,K(this.keypair.publicKey,"public");case 6:return t.t3=t.sent,t.t4={publicKey:t.t3},t.t5=t.t2.stringify.call(t.t2,t.t4),t.t6={"Content-Type":"application/json"},t.t7={method:"POST",body:t.t5,headers:t.t6},t.next=13,(0,t.t0)(t.t1,t.t7);case 13:return e=t.sent,t.next=16,e.json();case 16:if(null!=(r=t.sent).message){t.next=19;break}throw new Error("Invalid server response");case 19:if(0!=r.success){t.next=21;break}throw new Error("Failed to establish secure connection: ".concat(r.message));case 21:if(null!=r.data){t.next=23;break}throw new Error("Server returned an invalid response");case 23:return this.aesKeyString=r.data.ks,console.log(this.aesKeyString),t.next=27,window.crypto.subtle.decrypt({name:"RSA-OAEP"},this.keypair.privateKey,Q(r.data.k));case 27:return n=t.sent,t.next=30,window.crypto.subtle.importKey("raw",n,{name:"AES-GCM"},!1,["encrypt","decrypt"]);case 30:this.aesKey=t.sent,console.log("Successfully established safe-tunnel connection");case 32:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"safeTunnelEncrypt",value:(n=W(V().mark((function t(e){var r,n,o,a,u;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Wait for AES finish creation"),t.next=4,this.waitForKey();case 4:return console.log("AES Creation is done"),console.log("AES key:",this.aesKey),r=crypto.getRandomValues(new Uint8Array(12)),n=(new TextEncoder).encode(e),t.next=10,crypto.subtle.encrypt({name:"AES-GCM",iv:r},this.aesKey,n);case 10:return o=t.sent,a=btoa(String.fromCharCode.apply(String,U(new Uint8Array(o)))),u=btoa(String.fromCharCode.apply(String,U(new Uint8Array(r)))),t.abrupt("return",{iv:u,ct:a,k:this.aesKeyString});case 16:throw t.prev=16,t.t0=t.catch(0),alert("Safe-tunnel encryption failed. Please refresh and try again."),new Error("Safe-tunnel encryption failed: ".concat(t.t0));case 20:case"end":return t.stop()}}),t,this,[[0,16]])}))),function(t){return n.apply(this,arguments)})},{key:"safeTunnelDecrypt",value:(r=W(V().mark((function t(e,r){var n,o,a,u;return V().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={name:"AES-GCM",iv:Q(r)},t.next=4,window.crypto.subtle.decrypt(n,this.aesKey,Q(e));case 4:return o=t.sent,a=new TextDecoder,u=a.decode(o),t.abrupt("return",JSON.parse(u));case 10:throw t.prev=10,t.t0=t.catch(0),alert("Safe-tunnel decryption failed. Please refresh and try again."),new Error("Safe-tunnel decryption failed: ".concat(t.t0));case 14:case"end":return t.stop()}}),t,this,[[0,10]])}))),function(t,e){return r.apply(this,arguments)})}],e&&q(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,o,a,u,i}();function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function tt(){tt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,u=Object.create(a.prototype),i=new O(n||[]);return o(u,"_invoke",{value:P(t,r,i)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",g={};function v(){}function m(){}function b(){}var w={};d(w,u,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==r&&n.call(k,u)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,u,i){var c=s(t[o],t,a);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==$(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,i)}),(function(t){r("throw",t,u,i)})):e.resolve(l).then((function(t){d.value=t,u(d)}),(function(t){return r("throw",t,u,i)}))}i(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=f;return function(a,u){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===a)throw u;return{value:t,done:!0}}for(n.method=a,n.arg=u;;){var i=n.delegate;if(i){var c=F(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var d=s(e,r,n);if("normal"===d.type){if(o=n.done?y:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=y,n.method="throw",n.arg=d.arg)}}}function F(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,F(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=s(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var u=a.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError($(e)+" is not iterable")}return m.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=d(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(L.prototype),d(L.prototype,i,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},E(S),d(S,c,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),d=n.call(u,"finallyLoc");if(c&&d){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function et(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function rt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){et(a,n,o,u,i,"next",t)}function i(t){et(a,n,o,u,i,"throw",t)}u(void 0)}))}}function nt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,at(n.key),n)}}function ot(t,e,r){return(e=at(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function at(t){var e=function(t){if("object"!=$(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$(e)?e:e+""}var ut=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ot(this,"currentToken",null),ot(this,"success",null),ot(this,"loginContainer",null),ot(this,"awaitAuth",!1),this.p_createLoginContainer(),this.p_initButtons(),this.p_asyncInit()},e=[{key:"p_asyncInit",value:(o=rt(tt().mark((function t(){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.p_loadToken();case 2:this.currentToken=t.sent;case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"p_loadToken",value:(n=rt(tt().mark((function t(){return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.local.get(["teamsplusToken"]);case 2:return t.abrupt("return",t.sent.teamsPlusToken);case 3:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"p_saveToken",value:function(){chrome.storage.local.set({teamsplusToken:this.currentToken})}},{key:"p_createLoginContainer",value:function(){null==this.loginContainer?(this.loginContainer=D('\n<div class="main-login-container">\n    <div class="rel">\n        <div class="loader-container" id="loader" style="display: none;">\n            <div class="rel">\n                <span class="loader login-loader"></span>\n            </div>\n\n        </div>\n        <form action="">\n            <h3 class="login-title">Login</h3>\n            <p class="login-title">An action requires you to login to your account.</p>\n            <div class="login-align-center">\n                <input type="text" name="username" id="loginUsername" autocomplete="username" placeholder="Username" required>\n                <input type="password" name="password" id="loginPassword" placeholder="Password" required>\n                <button type="submit" class="login-btn-submit normal-button" id="submitBtn">Submit</button>\n                <a href="https://apiteamsplus.pythonanywhere.com/" target="_blank">Visit website to register</a>\n            </div>\n        </form>\n    </div>\n\n</div>\n'),this.loginContainer.style.display="none",document.body.appendChild(this.loginContainer)):console.error("Login container already exists!")}},{key:"p_showLoginContainer",value:function(){this.loginContainer?(this.loginContainer.style.opacity="0",this.loginContainer.style.display="block",this.loginContainer.animate([{transform:"translateY(-65%) translateX(-50%)",opacity:"0",filter:"blur(10px)"},{transform:"translateY(-50%) translateX(-50%)",opacity:"1",filter:"blur(0px)"}],{duration:1e3,easing:"ease-out",iterations:1,fill:"forwards"})):console.error("Login container not found!")}},{key:"p_hideLoginContainer",value:function(){var t=this;this.loginContainer?(this.loginContainer.animate([{opacity:"1",filter:"blur(0px)",transform:"translateY(-50%) translateX(-50%)"},{opacity:"0",filter:"blur(10px)",transform:"translateY(-65%) translateX(-50%)"}],{duration:1e3,easing:"ease-in",iterations:1,fill:"forwards"}),setTimeout((function(){null!=t.loginContainer&&(t.loginContainer.style.display="none")}),1e3)):console.error("Login container not found!")}},{key:"p_showLoader",value:function(){if(null!=this.loginContainer){var t=this.loginContainer.querySelector("#loader");t&&(t.style.display="block")}}},{key:"p_hideLoader",value:function(){if(null!=this.loginContainer){var t=this.loginContainer.querySelector("#loader");t&&(t.style.display="none")}}},{key:"p_initButtons",value:function(){var t=this;if(null!=this.loginContainer){var e=this.loginContainer.querySelector("#submitBtn");e?e.addEventListener("click",function(){var e=rt(tt().mark((function e(r){var n,o,a,u,i;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("The button has been clicked!"),r.preventDefault(),null!=t.loginContainer){e.next=5;break}return console.error("no login container"),e.abrupt("return");case 5:if(0!=t.awaitAuth){e.next=9;break}return console.error("not awaiting auth"),e.abrupt("return");case 9:if(t.success=null,t.currentToken=null,n=t.loginContainer.querySelector("#loginUsername"),o=t.loginContainer.querySelector("#loginPassword"),null!=n&&null!=o){e.next=17;break}return console.error("Username / password element not found"),e.abrupt("return");case 17:return t.p_showLoader(),a=new Z,u=JSON.stringify({username:n.value,password:o.value,transfer:!0}),e.next=23,a.safeTunnelEncrypt(u);case 23:i=e.sent,fetch("".concat(H,"/api/v1/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(t){return t.json()})).then((function(e){if(!e.message||1!=e.success||!e.data)throw t.p_hideLoader(),new Error("not OK");t.currentToken=e.data,t.p_saveToken(),t.p_hideLoader()})).catch((function(e){t.p_hideLoader(),console.error("Error:",e),e instanceof Error?alert("Error: ".concat(e.message)):alert("Error")}));case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):console.error("Oneor many elements null")}}},{key:"waitUntilToken",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this.awaitAuth=!0,new Promise((function(r){var n=setInterval((function(){(null!=t.currentToken||t.success)&&(clearInterval(n),t.success=null,t.awaitAuth=!1,r(t.currentToken))}),e)}))}},{key:"getToken",value:(r=rt(tt().mark((function t(){var e;return tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.currentToken){t.next=3;break}return console.log("Found token! returning"),t.abrupt("return",this.currentToken);case 3:if(console.log("No token! creating new login container"),this.p_createLoginContainer(),this.p_showLoginContainer(),null!=this.loginContainer){t.next=8;break}return t.abrupt("return");case 8:return this.loginContainer.style.display="block",t.next=11,this.waitUntilToken();case 11:return this.p_hideLoginContainer(),null==(e=this.currentToken)&&console.error("Still no token"),t.abrupt("return",e);case 15:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],e&&nt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,o}();function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function ct(){ct=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,u=Object.create(a.prototype),i=new O(n||[]);return o(u,"_invoke",{value:P(t,r,i)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",g={};function v(){}function m(){}function b(){}var w={};d(w,u,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==r&&n.call(k,u)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,u,i){var c=s(t[o],t,a);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==it(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,i)}),(function(t){r("throw",t,u,i)})):e.resolve(l).then((function(t){d.value=t,u(d)}),(function(t){return r("throw",t,u,i)}))}i(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=f;return function(a,u){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===a)throw u;return{value:t,done:!0}}for(n.method=a,n.arg=u;;){var i=n.delegate;if(i){var c=F(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var d=s(e,r,n);if("normal"===d.type){if(o=n.done?y:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=y,n.method="throw",n.arg=d.arg)}}}function F(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,F(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=s(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var u=a.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(it(e)+" is not iterable")}return m.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=d(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(L.prototype),d(L.prototype,i,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},E(S),d(S,c,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),d=n.call(u,"finallyLoc");if(c&&d){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function dt(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function lt(t,e){return st.apply(this,arguments)}function st(){var t;return t=ct().mark((function t(e,r){var n,o,a,u,i,c;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G('[role="navigation"]');case 2:if(n=t.sent,o=D('\n\n\n<div>\n    <div class="injected-parent-div">\n        <button type="button" class="injected-parent-button">\n            <span class="injected-tab-upper-span">\n              <div class=".injected-tab-div2">\n                <div class="injected-tab-upper-div"></div>\n                <span class="injected-tab-span">Delayed Send</span>\n              </div>\n            </span>\n        </button>\n    </div>\n</div>\n'),a=o.querySelector(".injected-tab-span"),u=o.querySelector(".injected-tab-upper-div"),i=o.querySelector("button"),null!=a&&null!=i&&null!=u){t.next=9;break}throw new Error("Span or img or btn not found in injected tab");case 9:return(c=D(r)).classList.add("injected-tab-img"),u.prepend(c),a.textContent=e,n.appendChild(o),t.abrupt("return",i);case 15:case"end":return t.stop()}}),t)})),st=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){dt(a,n,o,u,i,"next",t)}function i(t){dt(a,n,o,u,i,"throw",t)}u(void 0)}))},st.apply(this,arguments)}function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function ht(){ht=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,u=Object.create(a.prototype),i=new O(n||[]);return o(u,"_invoke",{value:P(t,r,i)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",g={};function v(){}function m(){}function b(){}var w={};d(w,u,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==r&&n.call(k,u)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,u,i){var c=s(t[o],t,a);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==ft(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,i)}),(function(t){r("throw",t,u,i)})):e.resolve(l).then((function(t){d.value=t,u(d)}),(function(t){return r("throw",t,u,i)}))}i(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=f;return function(a,u){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===a)throw u;return{value:t,done:!0}}for(n.method=a,n.arg=u;;){var i=n.delegate;if(i){var c=F(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var d=s(e,r,n);if("normal"===d.type){if(o=n.done?y:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=y,n.method="throw",n.arg=d.arg)}}}function F(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,F(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=s(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var u=a.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(ft(e)+" is not iterable")}return m.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=d(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(L.prototype),d(L.prototype,i,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},E(S),d(S,c,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),d=n.call(u,"finallyLoc");if(c&&d){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function pt(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function yt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){pt(a,n,o,u,i,"next",t)}function i(t){pt(a,n,o,u,i,"throw",t)}u(void 0)}))}}function gt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mt(n.key),n)}}function vt(t,e,r){return(e=mt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mt(t){var e=function(t){if("object"!=ft(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ft(e)?e:e+""}var bt=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),vt(this,"themeShopUI",null),vt(this,"shopUiVisible",!1),this.parser=new DOMParser,this.authProvider=new ut,this.currentSearchQuery="",this.themeProvider=e,this.p_init()},e=[{key:"p_injectButton",value:(d=yt(ht().mark((function t(){var e,r=this;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lt("Browse themes",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="var(--colorNeutralForeground3)" height="24px" width="24px" version="1.1" id="XMLID_269_" viewBox="0 0 24 24" xml:space="preserve">\n<g id="shop-cart">\n\t<g>\n\t\t<circle cx="9" cy="21" r="2"/>\n\t</g>\n\t<g>\n\t\t<circle cx="19" cy="21" r="2"/>\n\t</g>\n\t<g>\n\t\t<path d="M21,18H7.2l-4-16H0V0h4.8l0.8,3H24l-3.2,11H8.3l0.5,2H21V18z M7.8,12h11.5l2-7H6L7.8,12z"/>\n\t</g>\n</g>\n</svg>');case 2:if(null!=(e=t.sent)){t.next=5;break}return t.abrupt("return");case 5:e.addEventListener("click",(function(){r.shopUiVisible?(r.shopUiVisible=!1,r.p_hideThemeShopUI()):(r.shopUiVisible=!0,r.p_showThemeShopUI())})),console.log("Injected button");case 7:case"end":return t.stop()}}),t)}))),function(){return d.apply(this,arguments)})},{key:"loaderState",value:function(t){if(null!=this.themeShopUI){var e=this.themeShopUI.querySelector("#listings-loader");null!=e&&(t?(e.style.display="block",e.animate([{transform:"translateY(-15px)",opacity:"0"},{transform:"translateY(0px)",opacity:"1"}],{duration:500,easing:"ease-out",iterations:1,fill:"forwards"})):(e.animate([{transform:"translateY(0px)",opacity:"1"},{transform:"translateY(-15px)",opacity:"0"}],{duration:500,easing:"ease-in",iterations:1,fill:"forwards"}),setTimeout((function(){e.style.display="none"}),500)))}}},{key:"p_didIstarThis",value:function(t){var e=this;return new Promise((function(r,n){null!=e.authProvider.currentToken?fetch("".concat(H,"/api/v1/themes/wait_did_i_star_this?name=").concat(t),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.authProvider.currentToken)}}).then((function(t){return console.log(t),t.json()})).then((function(t){if(null==t.success||0==t.success)throw new Error("Success field not found or unsuccessfull");if(null==t.message)throw new Error("No message field found");if(null==t.data)throw new Error("No data field found");r(t.data)})).catch((function(t){console.error("Error:",t),n(t)})):n("no token")}))}},{key:"star",value:(c=yt(ht().mark((function t(e){var r=this;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fetch,t.t1="".concat(H,"/api/v1/themes/star"),t.t2={"Content-Type":"application/json"},t.t3=JSON,t.t4=e,t.next=7,this.authProvider.getToken();case 7:t.t5=t.sent,t.t6={name:t.t4,token:t.t5},t.t7=t.t3.stringify.call(t.t3,t.t6),t.t8={method:"POST",headers:t.t2,body:t.t7},(0,t.t0)(t.t1,t.t8).then((function(t){return console.log(t),t.json()})).then((function(t){if(null==t.success||0==t.success)throw new Error("Success field not found or unsuccessfull");if(null==t.message)throw new Error("No message field found");console.log("Liked!"),r.p_refreshListings(r.currentSearchQuery)})).catch((function(t){console.error("Error:",t)}));case 12:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"changeIconStroke",value:(i=yt(ht().mark((function t(e,r){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.p_didIstarThis(e);case 3:1==t.sent?(r.classList.add("starred"),console.log("Starred")):console.log("Not starred"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Failed",t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(t,e){return i.apply(this,arguments)})},{key:"p_createCard",value:function(t,e,r,n,o){var a=this,u=D('\n<div class="listing-card">\n    <h3 class="theme-name">Theme</h3>\n    <p class="theme-description">This theme will make your Teams look very pretty! This theme will make your Teams look very pretty! This theme will make your Teams look very pretty! This theme will make your Teams look very pretty! This theme will make your Teams look\n        very pretty!</p>\n    <div class="actions">\n        <button class="theme-install" id="theme-install">Install</button>\n        <button class="star" id="star-btn">\n            <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none" class="star-icon">\n                <path d="M11.2691 4.41115C11.5006 3.89177 11.6164 3.63208 11.7776 3.55211C11.9176 3.48263 12.082 3.48263 12.222 3.55211C12.3832 3.63208 12.499 3.89177 12.7305 4.41115L14.5745 8.54808C14.643 8.70162 14.6772 8.77839 14.7302 8.83718C14.777 8.8892 14.8343 8.93081 14.8982 8.95929C14.9705 8.99149 15.0541 9.00031 15.2213 9.01795L19.7256 9.49336C20.2911 9.55304 20.5738 9.58288 20.6997 9.71147C20.809 9.82316 20.8598 9.97956 20.837 10.1342C20.8108 10.3122 20.5996 10.5025 20.1772 10.8832L16.8125 13.9154C16.6877 14.0279 16.6252 14.0842 16.5857 14.1527C16.5507 14.2134 16.5288 14.2807 16.5215 14.3503C16.5132 14.429 16.5306 14.5112 16.5655 14.6757L17.5053 19.1064C17.6233 19.6627 17.6823 19.9408 17.5989 20.1002C17.5264 20.2388 17.3934 20.3354 17.2393 20.3615C17.0619 20.3915 16.8156 20.2495 16.323 19.9654L12.3995 17.7024C12.2539 17.6184 12.1811 17.5765 12.1037 17.56C12.0352 17.5455 11.9644 17.5455 11.8959 17.56C11.8185 17.5765 11.7457 17.6184 11.6001 17.7024L7.67662 19.9654C7.18404 20.2495 6.93775 20.3915 6.76034 20.3615C6.60623 20.3354 6.47319 20.2388 6.40075 20.1002C6.31736 19.9408 6.37635 19.6627 6.49434 19.1064L7.4341 14.6757C7.46898 14.5112 7.48642 14.429 7.47814 14.3503C7.47081 14.2807 7.44894 14.2134 7.41394 14.1527C7.37439 14.0842 7.31195 14.0279 7.18708 13.9154L3.82246 10.8832C3.40005 10.5025 3.18884 10.3122 3.16258 10.1342C3.13978 9.97956 3.19059 9.82316 3.29993 9.71147C3.42581 9.58288 3.70856 9.55304 4.27406 9.49336L8.77835 9.01795C8.94553 9.00031 9.02911 8.99149 9.10139 8.95929C9.16534 8.93081 9.2226 8.8892 9.26946 8.83718C9.32241 8.77839 9.35663 8.70162 9.42508 8.54808L11.2691 4.41115Z" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n                </svg>\n            <span>30k</span>\n        </button>\n    </div>\n</div>\n'),i=u.querySelector(".theme-name"),c=u.querySelector(".theme-description"),d=u.querySelector("span"),l=u.querySelector("#star-btn"),s=u.querySelector("#theme-install");if(null!=i&&null!=c&&null!=d&&null!=l&&null!=s){var f=l.querySelector("svg");if(null!=f)return i.textContent=t,c.textContent=e,d.textContent=o.toString(),this.changeIconStroke(t,f),l.addEventListener("click",yt(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("The button got clicked!"),e.next=3,a.authProvider.getToken();case 3:if(e.sent){e.next=7;break}return alert("You must be logged in to do this"),e.abrupt("return");case 7:a.star(t);case 8:case"end":return e.stop()}}),e)})))),s.addEventListener("click",(function(){try{var t=a.themeProvider.p_isThemeValid(r);t?(a.themeProvider.addTheme(t.name,r),alert("Added theme")):alert("Failed to parse theme")}catch(t){console.error("Failed to add theme: ",t),alert("Failed to add theme: ".concat(t))}})),u}}},{key:"p_refreshListings",value:function(t){var e=this;if(null!=this.themeShopUI){var r=this.themeShopUI.querySelector(".listings");null!=r&&(r.innerHTML="",this.loaderState(!0),fetch("".concat(H,"/api/v1/themes/get?search=").concat(t)).then((function(t){return t.json()})).then((function(t){for(var n in console.log("Data:",t.data),t.data){var o=t.data[n],a=e.p_createCard(o.name,o.desc,o.data,o.author,o.stars);a&&(a.style.opacity="0",a.style.transform="translateY(-15px)",r.appendChild(a),a.animate([{transform:"translateY(-15px)",opacity:"0"},{transform:"translateY(0px)",opacity:"1"}],{duration:500,easing:"ease-out",iterations:1,fill:"forwards"}))}e.loaderState(!1)})).catch((function(t){e.loaderState(!1),console.error("Error:",t),alert("Error")})))}}},{key:"p_hideThemeShopUI",value:(u=yt(ht().mark((function t(){var e=this;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.themeShopUI&&(this.themeShopUI.animate([{transform:"translateY(-50%) translateX(-50%)",opacity:"1"},{transform:"translateY(-60%) translateX(-50%)",opacity:"0"}],{duration:500,easing:"ease-in",iterations:1,fill:"forwards"}),setTimeout((function(){null!=e.themeShopUI&&(e.themeShopUI.style.display="none")}),500));case 1:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"p_showThemeShopUI",value:(a=yt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.themeShopUI&&(this.themeShopUI.style.display="flex",this.themeShopUI.style.opacity="0",this.themeShopUI.animate([{transform:"translateY(-65%) translateX(-50%)",opacity:"0"},{transform:"translateY(-50%) translateX(-50%)",opacity:"1"}],{duration:500,easing:"ease-out",iterations:1,fill:"forwards"}),this.p_refreshListings(this.currentSearchQuery));case 1:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"p_injectUi",value:(o=yt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.themeShopUI=D('\n<div class="main-container">\n    <div class="top-navbar">\n        <input type="text" name="" id="container-search" class="container-search" placeholder="Search" autocomplete="off">\n        <button class="container-search-submit" id="search-submit">Search</button>\n        <p class="container-n-points">0 coins</p>\n    </div>\n    <div class="listings">\n        <div class="listings-loader-parent" id="listings-loader">\n            <span class="listings-loader"></span>\n        </div>\n    </div>\n</div>\n'),document.body.appendChild(this.themeShopUI),this.p_hideThemeShopUI();case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"p_searchBar",value:(n=yt(ht().mark((function t(){var e,r,n=this;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.themeShopUI){t.next=2;break}return t.abrupt("return");case 2:if(e=this.themeShopUI.querySelector("#container-search"),r=this.themeShopUI.querySelector("#search-submit"),null!=e&&null!=r){t.next=6;break}return t.abrupt("return");case 6:r.addEventListener("click",(function(){n.currentSearchQuery=e.value,n.p_refreshListings(n.currentSearchQuery)})),e.addEventListener("input",(function(){n.currentSearchQuery=e.value,n.p_refreshListings(n.currentSearchQuery)}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"p_init",value:(r=yt(ht().mark((function t(){return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.p_injectButton(),this.p_injectUi(),this.p_searchBar();case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],e&&gt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,o,a,u,i,c,d}(),wt=function(){return"y"===prompt("Confirm? Type 'y' or 'n'")};function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function kt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(r),!0).forEach((function(e){Bt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Et(){Et=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,u=Object.create(a.prototype),i=new O(n||[]);return o(u,"_invoke",{value:P(t,r,i)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",g={};function v(){}function m(){}function b(){}var w={};d(w,u,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==r&&n.call(k,u)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,u,i){var c=s(t[o],t,a);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==xt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,i)}),(function(t){r("throw",t,u,i)})):e.resolve(l).then((function(t){d.value=t,u(d)}),(function(t){return r("throw",t,u,i)}))}i(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=f;return function(a,u){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===a)throw u;return{value:t,done:!0}}for(n.method=a,n.arg=u;;){var i=n.delegate;if(i){var c=F(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var d=s(e,r,n);if("normal"===d.type){if(o=n.done?y:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=y,n.method="throw",n.arg=d.arg)}}}function F(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,F(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=s(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var u=a.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(xt(e)+" is not iterable")}return m.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=d(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(L.prototype),d(L.prototype,i,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},E(S),d(S,c,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),d=n.call(u,"finallyLoc");if(c&&d){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function Lt(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function Pt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){Lt(a,n,o,u,i,"next",t)}function i(t){Lt(a,n,o,u,i,"throw",t)}u(void 0)}))}}function Ft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jt(n.key),n)}}function Bt(t,e,r){return(e=jt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jt(t){var e=function(t){if("object"!=xt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=xt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==xt(e)?e:e+""}var Ot=function(){return o=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Bt(this,"currentThemes",a),this.dataManager=e},u=[{key:"p_syncDataManager",value:function(){this.p_dataManagerExists(),this.dataManager.currentThemes=this.currentThemes}},{key:"p_syncInstanceWithDataManager",value:function(){this.p_dataManagerExists(),this.currentThemes=this.dataManager.currentThemes}},{key:"p_dataManagerExists",value:function(){if(null==this.dataManager)throw new Error("Where is data manager")}},{key:"p_isThemeValid",value:function(o){var a=JSON.parse(o);if(null!=a.data)return null==a.data.classColors&&(console.error("Field not found. Override with default."),a.data.classColors=n),null==a.data.varColors&&(console.error("Field not found. Override with default."),a.data.varColors=t),null==a.data.fonts&&(console.error("Field not found. Override with default."),a.data.fonts=r),null==a.data.otherSettings&&(console.error("Field not found. Override with default."),a.data.otherSettings=e),null==a.data.twemojiSupport&&(console.error("Field not found. Override with default."),a.data.twemojiSupport=!1),a;console.error("Data field not found; failed to load theme")}},{key:"addTheme",value:function(t,e){console.log(t,e),this.p_dataManagerExists(),this.currentThemes[t]=e,this.p_syncDataManager(),this.dataManager.saveThemes(),this.dataManager.loadThemes(),this.p_syncDataManager(),console.log("Added theme")}},{key:"p_generateThemeData",value:(d=Pt(Et().mark((function r(o){var a;return Et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=this.dataManager.u_onlyExportChanged(this.dataManager.currentColors,t),r.t1=this.dataManager.u_onlyExportChanged(this.dataManager.currentClassesColors,n),r.t2=this.dataManager.currentFonts,r.t3=this.dataManager.u_onlyExportChanged(this.dataManager.currentPixelValues,e),r.next=6,this.dataManager.isTwemojiEnabled();case 6:return r.t4=r.sent,r.t5={varColors:r.t0,classColors:r.t1,fonts:r.t2,otherSettings:r.t3,twemojiSupport:r.t4},r.t6=o,r.t7=1,a={data:r.t5,name:r.t6,data_version:r.t7},r.abrupt("return",JSON.stringify(a));case 12:case"end":return r.stop()}}),r,this)}))),function(t){return d.apply(this,arguments)})},{key:"applyTheme",value:(c=Pt(Et().mark((function t(e){var r,n,o,a,u,i,c;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.p_dataManagerExists(),console.log(this.currentThemes),r=this.currentThemes[e],console.log(r),null!=(n=this.p_isThemeValid(r))){t.next=7;break}throw Error("error");case 7:if(o=St({},this.dataManager.currentColors),a=St({},this.dataManager.currentClassesColors),u=St({},this.dataManager.currentPixelValues),i=St({},this.dataManager.currentFonts),t.prev=11,this.dataManager.currentColors=n.data.varColors,this.dataManager.currentClassesColors=n.data.classColors,this.dataManager.currentFonts=n.data.fonts,this.dataManager.currentPixelValues=n.data.otherSettings,chrome.storage.local.set({twemoji:n.data.twemojiSupport}),!(c=document.querySelector("#twemojiSupport"))){t.next=23;break}return t.next=21,this.dataManager.isTwemojiEnabled();case 21:c.checked=t.sent,c.addEventListener("input",(function(){console.log("Save Twemoji state"),chrome.storage.local.set({twemoji:c.checked})}));case 23:this.dataManager.saveAll(),console.log("Successfully loaded theme."),t.next=36;break;case 27:t.prev=27,t.t0=t.catch(11),console.error("Failed to apply theme ",t.t0),console.error("Reverting to original state."),this.dataManager.currentColors=o,this.dataManager.currentFonts=i,this.dataManager.currentPixelValues=u,this.dataManager.currentClassesColors=a,console.log("Reverted to original state.");case 36:return t.prev=36,console.log("Successfully applied theme with no issues."),t.finish(36);case 39:case"end":return t.stop()}}),t,this,[[11,27,36,39]])}))),function(t){return c.apply(this,arguments)})},{key:"updateThemesList",value:(i=Pt(Et().mark((function t(){var e,r,n,o,a=this;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.p_dataManagerExists(),console.log("Updating theme list"),null!=(e=document.querySelector("#availableThemes"))){t.next=6;break}return console.error("Failed to update available themes: element not found"),t.abrupt("return");case 6:return e.innerHTML="",t.next=9,this.dataManager.loadThemes();case 9:r=Et().mark((function t(r){var n,o,u,i,c;return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=D('\n                <div class="theme">\n                    <h3 class="theme-title">Dark cozy blue</h3>\n                    <p class="theme-descripton">Color and fonts theme</p>\n                    <div class="actions">\n                        <button class="text-btn" id="apply-btn">Apply</button>\n                        <button class="text-btn" id="export-theme">\n                            Export\n                        </button>\n                        <button class="text-btn" id="delete-theme">\n                            Delete\n                        </button>\n                    </div>\n\n                </div>\n'),o=n.querySelector(".theme-title"),u=n.querySelector("#apply-btn"),i=n.querySelector("#export-theme"),c=n.querySelector("#delete-theme"),null!=o&&null!=i&&null!=u&&null!=c){t.next=7;break}return t.abrupt("return",{v:void 0});case 7:o.textContent="".concat(r),u.textContent="Apply",c.textContent="Delete",i.textContent="Export",u.addEventListener("click",Pt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=wt()){t.next=3;break}return alert("User has not confirmed"),t.abrupt("return");case 3:return t.next=5,a.dataManager.loadThemes();case 5:return a.currentThemes=a.dataManager.currentThemes,t.next=8,a.applyTheme(r);case 8:alert("Successfully applied theme. Please close and reopen the popup to see changes in the advanced tab.");case 9:case"end":return t.stop()}}),t)})))),c.addEventListener("click",Pt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=wt()){t.next=3;break}return alert("User has not confirmed"),t.abrupt("return");case 3:t.prev=3,delete a.dataManager.currentThemes[r],a.dataManager.saveThemes(),t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(3),console.error("Failed to delete: ",t.t0),alert("Failed to delete theme"),t.abrupt("return");case 13:return t.prev=13,t.next=16,a.updateThemesList();case 16:return alert("Successfully deleted the theme"),t.finish(13);case 18:case"end":return t.stop()}}),t,null,[[3,8,13,18]])})))),i.addEventListener("click",Pt(Et().mark((function t(){return Et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=a.dataManager.currentThemes[r]){t.next=4;break}return console.error("Current theme not found"),alert("Current theme not found"),t.abrupt("return");case 4:return t.next=6,navigator.clipboard.writeText(a.dataManager.currentThemes[r]);case 6:alert("Theme copied to clipboard");case 7:case"end":return t.stop()}}),t)})))),e.appendChild(n);case 15:case"end":return t.stop()}}),t)})),t.t0=Et().keys(this.dataManager.currentThemes);case 11:if((t.t1=t.t0()).done){t.next=19;break}return o=t.t1.value,t.delegateYield(r(o),"t2",14);case 14:if(!(n=t.t2)){t.next=17;break}return t.abrupt("return",n.v);case 17:t.next=11;break;case 19:console.log("Done updating theme list");case 20:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})}],u&&Ft(o.prototype,u),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,u,i,c,d}(),Ct={};!function t(e,r,n,o){var a=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),u="function"==typeof Path2D&&"function"==typeof DOMMatrix,i=function(){if(!e.OffscreenCanvas)return!1;var t=new OffscreenCanvas(1,1),r=t.getContext("2d");r.fillRect(0,0,1,1);var n=t.transferToImageBitmap();try{r.createPattern(n,"no-repeat")}catch(t){return!1}return!0}();function c(){}function d(t){var n=r.exports.Promise,o=void 0!==n?n:e.Promise;return"function"==typeof o?new o(t):(t(c,c),null)}var l,s,f,h,p,y,g,v,m,b,w,x=(l=i,s=new Map,{transform:function(t){if(l)return t;if(s.has(t))return s.get(t);var e=new OffscreenCanvas(t.width,t.height);return e.getContext("2d").drawImage(t,0,0),s.set(t,e),e},clear:function(){s.clear()}}),k=(p=Math.floor(1e3/60),y={},g=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(f=function(t){var e=Math.random();return y[e]=requestAnimationFrame((function r(n){g===n||g+p-1<n?(g=n,delete y[e],t()):y[e]=requestAnimationFrame(r)})),e},h=function(t){y[t]&&cancelAnimationFrame(y[t])}):(f=function(t){return setTimeout(t,p)},h=function(t){return clearTimeout(t)}),{frame:f,cancel:h}),S=(b={},function(){if(v)return v;if(!n&&a){var e=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{v=new Worker(URL.createObjectURL(new Blob([e])))}catch(t){return void 0!==typeof console&&"function"==typeof console.warn&&console.warn("🎊 Could not load worker",t),null}!function(t){function e(e,r){t.postMessage({options:e||{},callback:r})}t.init=function(e){var r=e.transferControlToOffscreen();t.postMessage({canvas:r},[r])},t.fire=function(r,n,o){if(m)return e(r,null),m;var a=Math.random().toString(36).slice(2);return m=d((function(n){function u(e){e.data.callback===a&&(delete b[a],t.removeEventListener("message",u),m=null,x.clear(),o(),n())}t.addEventListener("message",u),e(r,a),b[a]=u.bind(null,{data:{callback:a}})}))},t.reset=function(){for(var e in t.postMessage({reset:!0}),b)b[e](),delete b[e]}}(v)}return v}),E={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function L(t,e,r){return function(t,e){return e?e(t):t}(t&&null!=t[e]?t[e]:E[e],r)}function P(t){return t<0?0:Math.floor(t)}function F(t){return parseInt(t,16)}function B(t){return t.map(j)}function j(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:F(e.substring(0,2)),g:F(e.substring(2,4)),b:F(e.substring(4,6))}}function O(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function C(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function T(t,r){var i,c=!t,l=!!L(r||{},"resize"),s=!1,f=L(r,"disableForReducedMotion",Boolean),h=a&&L(r||{},"useWorker")?S():null,p=c?O:C,y=!(!t||!h||!t.__confetti_initialized),g="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function v(e,r,a){for(var c,l,s,f,h=L(e,"particleCount",P),y=L(e,"angle",Number),g=L(e,"spread",Number),v=L(e,"startVelocity",Number),m=L(e,"decay",Number),b=L(e,"gravity",Number),w=L(e,"drift",Number),S=L(e,"colors",B),E=L(e,"ticks",Number),F=L(e,"shapes"),j=L(e,"scalar"),O=!!L(e,"flat"),C=function(t){var e=L(t,"origin",Object);return e.x=L(e,"x",Number),e.y=L(e,"y",Number),e}(e),T=h,_=[],N=t.width*C.x,M=t.height*C.y;T--;)_.push((void 0,void 0,l=(c={x:N,y:M,angle:y,spread:g,startVelocity:v,color:S[T%S.length],shape:F[(f=F.length,Math.floor(Math.random()*(f-0))+0)],ticks:E,decay:m,gravity:b,drift:w,scalar:j,flat:O}).angle*(Math.PI/180),s=c.spread*(Math.PI/180),{x:c.x,y:c.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*c.startVelocity+Math.random()*c.startVelocity,angle2D:-l+(.5*s-Math.random()*s),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:c.color,shape:c.shape,tick:0,totalTicks:c.ticks,decay:c.decay,drift:c.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*c.gravity,ovalScalar:.6,scalar:c.scalar,flat:c.flat}));return i?i.addFettis(_):(i=function(t,e,r,a,i){var c,l,s=e.slice(),f=t.getContext("2d"),h=d((function(e){function d(){c=l=null,f.clearRect(0,0,a.width,a.height),x.clear(),i(),e()}c=k.frame((function e(){!n||a.width===o.width&&a.height===o.height||(a.width=t.width=o.width,a.height=t.height=o.height),a.width||a.height||(r(t),a.width=t.width,a.height=t.height),f.clearRect(0,0,a.width,a.height),(s=s.filter((function(t){return function(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var r=e.tick++/e.totalTicks,n=e.x+e.random*e.tiltCos,o=e.y+e.random*e.tiltSin,a=e.wobbleX+e.random*e.tiltCos,i=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-r)+")",t.beginPath(),u&&"path"===e.shape.type&&"string"==typeof e.shape.path&&Array.isArray(e.shape.matrix))t.fill(function(t,e,r,n,o,a,u){var i=new Path2D(t),c=new Path2D;c.addPath(i,new DOMMatrix(e));var d=new Path2D;return d.addPath(c,new DOMMatrix([Math.cos(u)*o,Math.sin(u)*o,-Math.sin(u)*a,Math.cos(u)*a,r,n])),d}(e.shape.path,e.shape.matrix,e.x,e.y,.1*Math.abs(a-n),.1*Math.abs(i-o),Math.PI/10*e.wobble));else if("bitmap"===e.shape.type){var c=Math.PI/10*e.wobble,d=.1*Math.abs(a-n),l=.1*Math.abs(i-o),s=e.shape.bitmap.width*e.scalar,f=e.shape.bitmap.height*e.scalar,h=new DOMMatrix([Math.cos(c)*d,Math.sin(c)*d,-Math.sin(c)*l,Math.cos(c)*l,e.x,e.y]);h.multiplySelf(new DOMMatrix(e.shape.matrix));var p=t.createPattern(x.transform(e.shape.bitmap),"no-repeat");p.setTransform(h),t.globalAlpha=1-r,t.fillStyle=p,t.fillRect(e.x-s/2,e.y-f/2,s,f),t.globalAlpha=1}else if("circle"===e.shape)t.ellipse?t.ellipse(e.x,e.y,Math.abs(a-n)*e.ovalScalar,Math.abs(i-o)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):function(t,e,r,n,o,a,u,i){t.save(),t.translate(e,r),t.rotate(a),t.scale(n,o),t.arc(0,0,1,0,i,void 0),t.restore()}(t,e.x,e.y,Math.abs(a-n)*e.ovalScalar,Math.abs(i-o)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if("star"===e.shape)for(var y=Math.PI/2*3,g=4*e.scalar,v=8*e.scalar,m=e.x,b=e.y,w=5,k=Math.PI/w;w--;)m=e.x+Math.cos(y)*v,b=e.y+Math.sin(y)*v,t.lineTo(m,b),y+=k,m=e.x+Math.cos(y)*g,b=e.y+Math.sin(y)*g,t.lineTo(m,b),y+=k;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(o)),t.lineTo(Math.floor(a),Math.floor(i)),t.lineTo(Math.floor(n),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}(f,t)}))).length?c=k.frame(e):d()})),l=d}));return{addFettis:function(t){return s=s.concat(t),h},canvas:t,promise:h,reset:function(){c&&k.cancel(c),l&&l()}}}(t,_,p,r,a),i.promise)}function m(r){var n=f||L(r,"disableForReducedMotion",Boolean),o=L(r,"zIndex",Number);if(n&&g)return d((function(t){t()}));c&&i?t=i.canvas:c&&!t&&(t=function(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}(o),document.body.appendChild(t)),l&&!y&&p(t);var a={width:t.width,height:t.height};function u(){if(h){var e={getBoundingClientRect:function(){if(!c)return t.getBoundingClientRect()}};return p(e),void h.postMessage({resize:{width:e.width,height:e.height}})}a.width=a.height=null}function m(){i=null,l&&(s=!1,e.removeEventListener("resize",u)),c&&t&&(document.body.contains(t)&&document.body.removeChild(t),t=null,y=!1)}return h&&!y&&h.init(t),y=!0,h&&(t.__confetti_initialized=!0),l&&!s&&(s=!0,e.addEventListener("resize",u,!1)),h?h.fire(r,a,m):v(r,a,m)}return m.reset=function(){h&&h.reset(),i&&i.reset()},m}function _(){return w||(w=T(null,{useWorker:!0,resize:!0})),w}r.exports=function(){return _().apply(this,arguments)},r.exports.reset=function(){_().reset()},r.exports.create=T,r.exports.shapeFromPath=function(t){if(!u)throw new Error("path confetti are not supported in this browser");var e,r;"string"==typeof t?e=t:(e=t.path,r=t.matrix);var n=new Path2D(e),o=document.createElement("canvas").getContext("2d");if(!r){for(var a,i,c=1e3,d=c,l=c,s=0,f=0,h=0;h<c;h+=2)for(var p=0;p<c;p+=2)o.isPointInPath(n,h,p,"nonzero")&&(d=Math.min(d,h),l=Math.min(l,p),s=Math.max(s,h),f=Math.max(f,p));a=s-d,i=f-l;var y=Math.min(10/a,10/i);r=[y,0,0,y,-Math.round(a/2+d)*y,-Math.round(i/2+l)*y]}return{type:"path",path:e,matrix:r}},r.exports.shapeFromText=function(t){var e,r=1,n="#000000",o='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof t?e=t:(e=t.text,r="scalar"in t?t.scalar:r,o="fontFamily"in t?t.fontFamily:o,n="color"in t?t.color:n);var a=10*r,u=a+"px "+o,i=new OffscreenCanvas(a,a),c=i.getContext("2d");c.font=u;var d=c.measureText(e),l=Math.ceil(d.actualBoundingBoxRight+d.actualBoundingBoxLeft),s=Math.ceil(d.actualBoundingBoxAscent+d.actualBoundingBoxDescent),f=d.actualBoundingBoxLeft+2,h=d.actualBoundingBoxAscent+2;l+=4,s+=4,(c=(i=new OffscreenCanvas(l,s)).getContext("2d")).font=u,c.fillStyle=n,c.fillText(e,f,h);var p=1/r;return{type:"bitmap",bitmap:i.transferToImageBitmap(),matrix:[p,0,0,p,-l*p/2,-s*p/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),Ct,!1);const Tt=Ct.exports;function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function Nt(){Nt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,u=Object.create(a.prototype),i=new O(n||[]);return o(u,"_invoke",{value:P(t,r,i)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",g={};function v(){}function m(){}function b(){}var w={};d(w,u,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==r&&n.call(k,u)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,u,i){var c=s(t[o],t,a);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==_t(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,i)}),(function(t){r("throw",t,u,i)})):e.resolve(l).then((function(t){d.value=t,u(d)}),(function(t){return r("throw",t,u,i)}))}i(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=f;return function(a,u){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===a)throw u;return{value:t,done:!0}}for(n.method=a,n.arg=u;;){var i=n.delegate;if(i){var c=F(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var d=s(e,r,n);if("normal"===d.type){if(o=n.done?y:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=y,n.method="throw",n.arg=d.arg)}}}function F(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,F(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=s(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var u=a.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(_t(e)+" is not iterable")}return m.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=d(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(L.prototype),d(L.prototype,i,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},E(S),d(S,c,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),d=n.call(u,"finallyLoc");if(c&&d){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function Mt(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function At(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,It(n.key),n)}}function It(t){var e=function(t){if("object"!=_t(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=_t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_t(e)?e:e+""}Ct.exports.create;var Gt=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.audioCtx=e},e=[{key:"loadSound",value:(r=Nt().mark((function t(e){var r,n,o;return Nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("No audio file path provided");case 3:if(r=chrome.runtime.getURL(e),console.log("Attempt to fetch at: ",r),"chrome-extension://invalid/"!=r){t.next=7;break}throw new Error("Chrome runtime returned INVALID url while trying to fetch ".concat(e));case 7:return t.next=9,fetch(r);case 9:if((n=t.sent).ok){t.next=12;break}throw new Error("Failed to fetch audio: ".concat(n.status," ").concat(n.statusText));case 12:return t.next=14,n.arrayBuffer();case 14:return o=t.sent,t.next=17,this.audioCtx.decodeAudioData(o);case 17:this.audioBuffer=t.sent,t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(0),console.error("Error loading sound:",t.t0),t.t0;case 24:case"end":return t.stop()}}),t,this,[[0,20]])})),n=function(){var t=this,e=arguments;return new Promise((function(n,o){var a=r.apply(t,e);function u(t){Mt(a,n,o,u,i,"next",t)}function i(t){Mt(a,n,o,u,i,"throw",t)}u(void 0)}))},function(t){return n.apply(this,arguments)})},{key:"playSound",value:function(t){if(null==this.audioBuffer)throw new Error("Audio buffer has not been defined yet");var e=this.audioCtx.createBufferSource();e.buffer=this.audioBuffer;var r=this.audioCtx.createGain();r.gain.value=t,e.connect(r),r.connect(this.audioCtx.destination),e.start()}}],e&&At(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n}();function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}function Ht(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(r),!0).forEach((function(e){Wt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ht(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ut(){Ut=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,u=Object.create(a.prototype),i=new O(n||[]);return o(u,"_invoke",{value:P(t,r,i)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",g={};function v(){}function m(){}function b(){}var w={};d(w,u,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==r&&n.call(k,u)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,u,i){var c=s(t[o],t,a);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==Dt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,i)}),(function(t){r("throw",t,u,i)})):e.resolve(l).then((function(t){d.value=t,u(d)}),(function(t){return r("throw",t,u,i)}))}i(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=f;return function(a,u){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===a)throw u;return{value:t,done:!0}}for(n.method=a,n.arg=u;;){var i=n.delegate;if(i){var c=F(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var d=s(e,r,n);if("normal"===d.type){if(o=n.done?y:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=y,n.method="throw",n.arg=d.arg)}}}function F(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,F(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=s(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var u=a.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(Dt(e)+" is not iterable")}return m.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=d(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(L.prototype),d(L.prototype,i,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},E(S),d(S,c,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),d=n.call(u,"finallyLoc");if(c&&d){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function Yt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Vt(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,i=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){i=!0,a=t},f:function(){try{u||null==r.return||r.return()}finally{if(i)throw a}}}}function Vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function qt(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function zt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){qt(a,n,o,u,i,"next",t)}function i(t){qt(a,n,o,u,i,"throw",t)}u(void 0)}))}}function Xt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Kt(n.key),n)}}function Wt(t,e,r){return(e=Kt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kt(t){var e=function(t){if("object"!=Dt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Dt(e)?e:e+""}var Jt=["0","1","2","3","4","5","6","7","8","9"],Qt={0:"assets/digit0.png",1:"assets/digit1.png",2:"assets/digit2.png",3:"assets/digit3.png",4:"assets/digit4.png",5:"assets/digit5.png",6:"assets/digit6.png",7:"assets/digit7.png",8:"assets/digit8.png",9:"assets/digit9.png"},Zt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Wt(this,"audio",new Gt(new AudioContext)),Wt(this,"placeAudio",new Gt(new AudioContext)),Wt(this,"loseAudio",new Gt(new AudioContext)),Wt(this,"winAudio",new Gt(new AudioContext)),Wt(this,"rolling",!1),Wt(this,"windowVisible",!1),this.currentDigits={},this.windowElement=D('\n        <div class="window">\n        <img class="window-background" src="assets/gamble_bg_normal.png">\n        <div class="counters">\n            <div class="counter-container" id="counter0">\n                <div id="counter" class="counter" data-counter-id="0">\n                    <img src="assets/digit0.png" alt="0" class="digit" data-number="0">\n                    <img src="assets/digit1.png" alt="1" class="digit" data-number="1">\n                    <img src="assets/digit2.png" alt="2" class="digit" data-number="2">\n                    <img src="assets/digit3.png" alt="3" class="digit" data-number="3">\n                    <img src="assets/digit4.png" alt="4" class="digit" data-number="4">\n                    <img src="assets/digit5.png" alt="5" class="digit" data-number="5">\n                    <img src="assets/digit6.png" alt="6" class="digit" data-number="6">\n                    <img src="assets/digit7.png" alt="7" class="digit" data-number="7">\n                    <img src="assets/digit8.png" alt="8" class="digit" data-number="8">\n                    <img src="assets/digit9.png" alt="9" class="digit" data-number="9">\n                </div>\n            </div>\n            <div class="counter-container "  id="counter1">\n                <div id="counter " class="counter " data-counter-id="1">\n                    <img src="assets/digit0.png" alt="0" class="digit" data-number="0">\n                    <img src="assets/digit1.png" alt="1" class="digit" data-number="1">\n                    <img src="assets/digit2.png" alt="2" class="digit" data-number="2">\n                    <img src="assets/digit3.png" alt="3" class="digit" data-number="3">\n                    <img src="assets/digit4.png" alt="4" class="digit" data-number="4">\n                    <img src="assets/digit5.png" alt="5" class="digit" data-number="5">\n                    <img src="assets/digit6.png" alt="6" class="digit" data-number="6">\n                    <img src="assets/digit7.png" alt="7" class="digit" data-number="7">\n                    <img src="assets/digit8.png" alt="8" class="digit" data-number="8">\n                    <img src="assets/digit9.png" alt="9" class="digit" data-number="9">\n                </div>\n            </div>\n            <div class="counter-container "  id="counter2">\n                <div id="counter " class="counter " data-counter-id="2">\n                    <img src="assets/digit0.png" alt="0" class="digit" data-number="0">\n                    <img src="assets/digit1.png" alt="1" class="digit" data-number="1">\n                    <img src="assets/digit2.png" alt="2" class="digit" data-number="2">\n                    <img src="assets/digit3.png" alt="3" class="digit" data-number="3">\n                    <img src="assets/digit4.png" alt="4" class="digit" data-number="4">\n                    <img src="assets/digit5.png" alt="5" class="digit" data-number="5">\n                    <img src="assets/digit6.png" alt="6" class="digit" data-number="6">\n                    <img src="assets/digit7.png" alt="7" class="digit" data-number="7">\n                    <img src="assets/digit8.png" alt="8" class="digit" data-number="8">\n                    <img src="assets/digit9.png" alt="9" class="digit" data-number="9">\n                </div>\n            </div>\n        </div>\n        <button id="roll">Roll</button>\n        <img src="assets/gamble_handle.png" alt="" class="handle-img">\n\n    </div>\n'),document.body.appendChild(this.windowElement),this.windowVisiblity(this.windowVisible),this.p_fixImages(),this.onLoad(),this.p_injectButton()},e=[{key:"p_fixImages",value:(u=zt(Ut().mark((function t(){var e,r,n,o,a,u,i,c,d,l,s,f,h;return Ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<10;e++){r='[data-number="'.concat(e,'"]'),n=this.windowElement.querySelectorAll(r),o=Yt(n);try{for(o.s();!(a=o.n()).done;)(u=a.value)instanceof HTMLImageElement&&(i=chrome.runtime.getURL(Qt[e]),console.log("Fix url: ".concat(i)),u.src=i)}catch(t){o.e(t)}finally{o.f()}}c=this.windowElement.querySelectorAll(".counter"),d=Yt(c);try{for(d.s();!(l=d.n()).done;)s=l.value,f=chrome.runtime.getURL("assets/digitBg.png"),console.log("Fix background on: ",s),s.style.backgroundImage="url(".concat(f,")")}catch(t){d.e(t)}finally{d.f()}h=this.windowElement.querySelector(".window-background"),this.windowElement.querySelector(".counters"),h.src=chrome.runtime.getURL("assets/gamble_bg_normal.png"),this.windowElement.querySelector(".handle-img").src=chrome.runtime.getURL("assets/gamble_handle.png");case 9:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"p_injectButton",value:(a=zt(Ut().mark((function t(){var e,r=this;return Ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lt("Game",'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Icons" viewBox="0 0 32 32" xml:space="preserve" width="24px" height="24px" fill="var(--colorNeutralForeground3)">\n<style type="text/css">\n\t.st0{fill:none;stroke:#000000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10;}\n</style>\n<g>\n\t<path d="M6,13H4c-0.6,0-1,0.4-1,1c0,0.5,0.4,0.9,0.8,1C3.3,15.9,3,16.9,3,18c0,0.6,0.4,1,1,1s1-0.4,1-1c0-1,0.4-2,1.1-2.7l0.6-0.6   C7,14.4,7.1,14,6.9,13.6C6.8,13.2,6.4,13,6,13z"/>\n\t<path d="M14,13h-2c-0.6,0-1,0.4-1,1c0,0.5,0.4,0.9,0.8,1c-0.5,0.9-0.8,1.9-0.8,3c0,0.6,0.4,1,1,1s1-0.4,1-1c0-1,0.4-2,1.1-2.7   l0.6-0.6c0.3-0.3,0.4-0.7,0.2-1.1C14.8,13.2,14.4,13,14,13z"/>\n\t<path d="M20,19c0.6,0,1-0.4,1-1c0-1,0.4-2,1.1-2.7l0.6-0.6c0.3-0.3,0.4-0.7,0.2-1.1C22.8,13.2,22.4,13,22,13h-2c-0.6,0-1,0.4-1,1   c0,0.5,0.4,0.9,0.8,1c-0.5,0.9-0.8,1.9-0.8,3C19,18.6,19.4,19,20,19z"/>\n\t<path d="M29,2c-1.7,0-3,1.3-3,3c0,1.3,0.8,2.4,2,2.8V18h-2v-7V9c0-3.9-3.1-7-7-7H7C3.1,2,0,5.1,0,9v2v10v8c0,0.6,0.4,1,1,1h24   c0.6,0,1-0.4,1-1v-8v-1h3c0.6,0,1-0.4,1-1V7.8c1.2-0.4,2-1.5,2-2.8C32,3.3,30.7,2,29,2z M10,12h6v8h-6V12z M2,12h6v8H2V12z M17,26   H9c-0.6,0-1-0.4-1-1s0.4-1,1-1h8c0.6,0,1,0.4,1,1S17.6,26,17,26z M24,20h-6v-8h6V20z"/>\n</g>\n</svg>');case 2:if(null!=(e=t.sent)){t.next=5;break}return t.abrupt("return");case 5:e.addEventListener("click",(function(){1==r.windowVisible?(r.windowVisible=!1,r.windowVisiblity(!1)):0==r.windowVisible&&(r.windowVisible=!0,r.windowVisiblity(!0))})),console.log("Injected button");case 7:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)})},{key:"windowVisiblity",value:function(t){var e=this;if(1==t)this.windowElement.style.display="block",this.windowElement.style.opacity="0",this.windowElement.animate([{opacity:"0",filter:"blur(10px)"},{opacity:"1",filter:"blur(0px)"}],{duration:1e3,easing:"ease-out",iterations:1,fill:"forwards"});else{if(0!=t)throw new Error("Unknown window visibility state: ".concat(t));this.windowElement.animate([{opacity:"1",filter:"blur(0px)"},{opacity:"0",filter:"blur(10px)"}],{duration:1e3,easing:"ease-in",iterations:1,fill:"forwards"}),setTimeout((function(){e.windowElement.style.display="none"}),1e3)}}},{key:"hideDigits",value:function(t){for(var e=0,r=Jt;e<r.length;e++){var n=r[e],o=t.querySelector('[data-number="'.concat(n,'"]'));o?o.style.display="none":console.error("Number ",n,"not found")}}},{key:"countUp",value:function(t,e,r,n){var o=this;return new Promise((function(a){o.currentDigits[e]+=1,o.currentDigits[e]>Jt.length-1&&(o.currentDigits[e]=0);var u=o.currentDigits[e]-1;0===o.currentDigits[e]&&(u=Jt.length-1),o.hideDigits(t);var i=t.querySelector('[data-number="'.concat(Jt[u],'"]')),c=t.querySelector('[data-number="'.concat(Jt[o.currentDigits[e]],'"]'));if(!c||!i)return console.error("Elements not found: ",Jt[u],Jt[o.currentDigits[e]]),console.error(u,o.currentDigits[e]),void a();c.style.zIndex="1",i.style.zIndex="0",c.style.display="flex",i.style.display="flex";var d="linear";0==n?(console.log("Set ease in"),d="ease-in"):1==n&&(console.log("Set ease out"),d="ease-out"),console.log("Easing style: ",d);var l=c.animate([{transform:"translateY(100%)"},{transform:"translateY(-50%)"}],{duration:r,fill:"forwards",easing:d}),s=i.animate([{transform:"translateY(-50%)"},{transform:"translateY(-150%)"}],{duration:r,fill:"forwards",easing:d});o.audio.playSound(.1),Promise.all([l.finished,s.finished]).then((function(){i.style.display="none",a()}))}))}},{key:"sharpEase",value:function(t){return Math.pow(Math.sin(t*Math.PI),.2)}},{key:"waitTimeCalc",value:function(t,e){return Math.max(1-this.sharpEase(e/t),.06)}},{key:"countBy",value:(o=zt(Ut().mark((function t(e,r,n){var o,a,u,i;return Ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=2e3,a=0;case 2:if(!(a<e)){t.next=13;break}return u=void 0,0==a&&(console.log("Ease in"),u=0),a==e-1&&(console.log("Ease out"),u=1),i=this.waitTimeCalc(e,a)*o,console.log("Animation time: ",i),t.next=10,this.countUp(n,r,i,u);case 10:a++,t.next=2;break;case 13:this.placeAudio.playSound(.5);case 14:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return o.apply(this,arguments)})},{key:"getRandomInt",value:function(t,e){return Math.floor(Math.random()*(e-t)+t)}},{key:"confettiFireworks",value:function(){var t=Date.now()+15e3,e={startVelocity:30,spread:360,ticks:60,zIndex:0};function r(t,e){return Math.random()*(e-t)+t}var n=setInterval((function(){var o=t-Date.now();if(o<=0)return clearInterval(n);var a=o/15e3*50;Tt(Rt(Rt({},e),{},{particleCount:a,origin:{x:r(.1,.3),y:Math.random()-.2}})),Tt(Rt(Rt({},e),{},{particleCount:a,origin:{x:r(.7,.9),y:Math.random()-.2}}))}),250)}},{key:"confettiSides",value:function(){var t=Date.now()+15e3,e=["#bb0000","#ffffff"];!function r(){Tt({particleCount:2,angle:60,spread:55,origin:{x:0},colors:e}),Tt({particleCount:2,angle:120,spread:55,origin:{x:1},colors:e}),Date.now()<t&&requestAnimationFrame(r)}()}},{key:"shuffleArray",value:function(t){for(var e=t.slice(),r=e.length-1;r>0;r--){var n=Math.floor(Math.random()*(r+1)),o=[e[n],e[r]];e[r]=o[0],e[n]=o[1]}return e}},{key:"generateRandomOrder",value:function(t){var e=Array.from({length:t+1},(function(t,e){return e}));return this.shuffleArray(e)}},{key:"randomizeFunction",value:function(){var t=this.generateRandomOrder(2);if(console.log(t),this.getRandomInt(1,100)<=50){if(this.getRandomInt(1,100)<=70){console.log("Trick");var e,r=[],n=this.getRandomInt(1,Jt.length),o=Yt(t);try{for(o.s();!(e=o.n()).done;){var a=e.value,u=this.currentDigits[a]+1,i=Jt.length-(u-n);if(Number.isNaN(i))throw console.error(this.currentDigits),new Error("Amount to add is NaN: \n                        i: ".concat(a,",\n                        currentDigit: ").concat(u,",\n                        target: ").concat(n,"\n                            "));if(console.log("Amount to add: ",i),console.log("For: ",a),2==a){var c=this.getRandomInt(1,3);1==c?r.push(i+1):(2==c||console.error("Randomizer chose: ",c),r.push(i+-1))}else r.push(i)}}catch(t){o.e(t)}finally{o.f()}return{values:r,order:t}}console.log("All three should be the same");var d,l=[],s=this.getRandomInt(1,Jt.length),f=Yt(t);try{for(f.s();!(d=f.n()).done;){var h=d.value,p=this.currentDigits[h]+1,y=Jt.length-(p-s);console.log("Amount to add: ",y),l.push(y)}}catch(t){f.e(t)}finally{f.f()}return{values:l,order:t}}for(var g=[],v=0;v<3;v++)g.push(this.getRandomInt(1,Jt.length));return{values:g,order:t}}},{key:"shuffle",value:(n=zt(Ut().mark((function t(){var e,r,n,o,a,u,i,c,d,l,s,f,h;return Ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!=this.rolling){t.next=2;break}return t.abrupt("return");case 2:this.windowElement.querySelector(".window-background").src=chrome.runtime.getURL("assets/gamble_bg_normal.png"),e=3,r=1e3,n=70,o=[],a=this.randomizeFunction(),this.rolling=!0,u=0;case 11:if(!(u<e)){t.next=28;break}if(void 0,c=a.order[u],i=c==e-1?4*c*Jt.length:2*c*Jt.length,d=a.values[u]+i+n,l=document.querySelector('[data-counter-id="'.concat(u,'"]')),console.log(l),null!=l){t.next=21;break}return console.error('Element with data-counter-id="'.concat(u,'" not found.')),t.abrupt("continue",25);case 21:return s=this.countBy(d,u,l),o.push(s),t.next=25,new Promise((function(t){return setTimeout(t,r)}));case 25:u++,t.next=11;break;case 28:return t.next=30,Promise.all(o);case 30:console.log("All digits finished counting."),f=this.currentDigits[0],h=0;case 33:if(!(h<e)){t.next=44;break}if(f==this.currentDigits[h]){t.next=40;break}return this.loseAudio.playSound(.2),console.log("LOSE"),t.abrupt("break",44);case 40:h==e-1&&(console.log("WIN!"),this.windowElement.querySelector(".window-background").src=chrome.runtime.getURL("assets/gamble_bg_win.png"),this.winAudio.playSound(1),Tt(),this.confettiSides(),this.confettiFireworks());case 41:h++,t.next=33;break;case 44:this.rolling=!1;case 45:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"init",value:function(){this.audio.loadSound("sounds/gamble/beep.wav"),this.placeAudio.loadSound("sounds/gamble/boom.mp3"),this.loseAudio.loadSound("sounds/gamble/lost.mp3"),this.winAudio.loadSound("sounds/gamble/win.mp3");for(var t=0;t<3;t++)this.currentDigits[t]=0}},{key:"onLoad",value:(r=zt(Ut().mark((function t(){var e,r=this;return Ut().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.init(),!(e=this.windowElement.querySelector("#roll"))){t.next=6;break}e.addEventListener("click",(function(){r.shuffle()})),t.next=7;break;case 6:throw new Error("Roll button is null");case 7:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],e&&Xt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n,o,a,u}();function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function te(){te=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,u=Object.create(a.prototype),i=new O(n||[]);return o(u,"_invoke",{value:P(t,r,i)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",g={};function v(){}function m(){}function b(){}var w={};d(w,u,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==r&&n.call(k,u)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,u,i){var c=s(t[o],t,a);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==$t(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,i)}),(function(t){r("throw",t,u,i)})):e.resolve(l).then((function(t){d.value=t,u(d)}),(function(t){return r("throw",t,u,i)}))}i(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=f;return function(a,u){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===a)throw u;return{value:t,done:!0}}for(n.method=a,n.arg=u;;){var i=n.delegate;if(i){var c=F(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var d=s(e,r,n);if("normal"===d.type){if(o=n.done?y:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=y,n.method="throw",n.arg=d.arg)}}}function F(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,F(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=s(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var u=a.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError($t(e)+" is not iterable")}return m.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=d(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(L.prototype),d(L.prototype,i,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},E(S),d(S,c,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),d=n.call(u,"finallyLoc");if(c&&d){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function ee(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function re(){return ne.apply(this,arguments)}function ne(){var t;return t=te().mark((function t(){var e,r,n;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=D('\n    <div class="password-popup" id="pwd-popup">\n        <h3>Enter password</h3>\n        <p>Enter password to encryption key</p>\n\n        <input type="text" name="popup-pwd" id="popup-pwd-input" class="popup-pwd" autocomplete="off">\n\n        <button type="button" id="ok-btn">OK</button>\n    </div>'),document.body.appendChild(e),r=e.querySelector("input.popup-pwd"),n=e.querySelector("button"),r.focus(),t.abrupt("return",new Promise((function(t){var o=function(){t(r.value),n.removeEventListener("click",o),r.removeEventListener("keyup",a),e.parentNode&&e.parentNode.removeChild(e)},a=function(t){"Enter"===t.key&&o()};n.addEventListener("click",o),r.addEventListener("keyup",a)})));case 6:case"end":return t.stop()}}),t)})),ne=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){ee(a,n,o,u,i,"next",t)}function i(t){ee(a,n,o,u,i,"throw",t)}u(void 0)}))},ne.apply(this,arguments)}function oe(t){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(t)}function ae(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return ue(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ue(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,i=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){i=!0,a=t},f:function(){try{u||null==r.return||r.return()}finally{if(i)throw a}}}}function ue(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function ie(){ie=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,u=Object.create(a.prototype),i=new O(n||[]);return o(u,"_invoke",{value:P(t,r,i)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",g={};function v(){}function m(){}function b(){}var w={};d(w,u,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==r&&n.call(k,u)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,u,i){var c=s(t[o],t,a);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==oe(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,i)}),(function(t){r("throw",t,u,i)})):e.resolve(l).then((function(t){d.value=t,u(d)}),(function(t){return r("throw",t,u,i)}))}i(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=f;return function(a,u){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===a)throw u;return{value:t,done:!0}}for(n.method=a,n.arg=u;;){var i=n.delegate;if(i){var c=F(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var d=s(e,r,n);if("normal"===d.type){if(o=n.done?y:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=y,n.method="throw",n.arg=d.arg)}}}function F(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,F(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=s(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var u=a.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(oe(e)+" is not iterable")}return m.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=d(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(L.prototype),d(L.prototype,i,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},E(S),d(S,c,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),d=n.call(u,"finallyLoc");if(c&&d){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function ce(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}function de(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){ce(a,n,o,u,i,"next",t)}function i(t){ce(a,n,o,u,i,"throw",t)}u(void 0)}))}}function le(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fe(n.key),n)}}function se(t,e,r){return(e=fe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fe(t){var e=function(t){if("object"!=oe(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==oe(e)?e:e+""}var he=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),se(this,"visible",!1),se(this,"currentSearch",""),se(this,"currentSelected",null),this.win=this.createWindow(),this.hideWindow(),this.authProvider=e,this.injectTab(),this.refreshAccounts(),this.searchEvents(),this.encryptEvent(),this.messageObserver()},e=[{key:"termsOfServiceAgree",value:function(){return null!=localStorage.getItem("tos_agree")||!!confirm("By using TeamsPlus encryption services, you agree to our terms of service, which can be found on our website at https://apiteamsplus.pythonanywhere.com. Confirm below if you agree.")&&(localStorage.setItem("tos_agree","yes"),!0)}},{key:"hideWindow",value:function(){var t=this;this.win.animate([{transform:"translateY(-50%) translateX(-50%)",opacity:"1"},{transform:"translateY(-60%) translateX(-50%)",opacity:"0"}],{duration:500,easing:"ease-in",iterations:1,fill:"forwards"}),setTimeout((function(){t.win&&(t.win.style.display="none")}),500)}},{key:"showWindow",value:function(){this.win.style.opacity="0",this.win.style.display="block",this.win.animate([{transform:"translateY(-60%) translateX(-50%)",opacity:"0"},{transform:"translateY(-50%) translateX(-50%)",opacity:"1"}],{duration:500,easing:"ease-out",iterations:1,fill:"forwards"});var t=this.win.querySelector("#encrypt-message");if(null!=t){t.value="",this.currentSelected=null,this.currentSearch="";var e=this.win.querySelector("#selected");null!=e&&(e.innerHTML="Selected: <strong>No account selected. Please select an account to encrypt.</strong>");var r=this.win.querySelector("#encrypt-search");null!=r&&(r.value=""),this.refreshAccounts()}}},{key:"injectTab",value:(n=de(ie().mark((function t(){var e,r=this;return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lt("Encryption",'<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24">\n\n<title/>\n\n<g id="Complete">\n\n<g id="lock">\n\n<g>\n\n<rect fill="none" height="10" rx="2" ry="2" stroke="var(--colorNeutralForeground3)" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="16" x="4" y="11"/>\n\n<path d="M16.5,11V8h0c0-2.8-.5-5-4.5-5S7.5,5.2,7.5,8h0v3" fill="none" stroke="var(--colorNeutralForeground3)" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/>\n\n</g>\n\n</g>\n\n</g>\n\n</svg>');case 2:(e=t.sent)&&e.addEventListener("click",(function(){r.visible=!r.visible,r.visible?r.showWindow():r.hideWindow()}));case 4:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"createWindow",value:function(){var t=D('\n<div class="encryption-ui-window">\n    <div class="title-container">\n        <div class="title-sub-container">\n            <img src="https://www.svgrepo.com/show/513833/lock.svg" alt="" class="lock-icon-title">\n            <h2 class="encryption-title">Encryption</h2>\n        </div>\n        \n    </div>\n    \n    <input type="text" name="search" id="encrypt-search" class="encryption-ui-search" placeholder="Search for accounts..." autocomplete="off">\n    <div class="encryption-ui-people">\n\n\n    </div>\n    <p id="selected">Selected: null</p>\n    <div class="center">\n        <textarea name="encrypt-message" id="encrypt-message" rows="5" placeholder="Type your message here"></textarea>\n    </div>\n\n    <div class="center">\n        <button type="button" id="encrypt-btn">\n            <div class="btn-with-icon">\n                <img src="https://www.svgrepo.com/show/513833/lock.svg" alt="" class="btn-icon">\n                <span>Encrypt</span>\n            </div>\n        </button>\n    </div>\n    \n    <div class="center">\n        <textarea name="" id="encrypt-output" placeholder="Output will appear here" rows="2"></textarea>\n    </div>\n    \n</div>\n');return document.body.appendChild(t),t}},{key:"refreshAccounts",value:function(){var t=this,e=this.win.querySelector(".encryption-ui-people");if(null==e)throw new Error("List not found");var r=this.win.querySelector("#selected");null!=r&&(e.innerHTML="",fetch("".concat(H,"/api/v1/auth/search?search=").concat(this.currentSearch),{method:"GET"}).then((function(t){return t.json()})).then((function(n){if(!n.message||1!=n.success||!n.data)throw new Error(n.message);var o=n.data,a=function(n){var a=o[n],u=D('\n<div class="person">\n    <p id="account-info">Bob</p>\n    <span id="account-id">ID: 17</span>\n    <div class="center">\n        <button type="button" id="select">Select</button>\n    </div>\n</div>\n'),i=u.querySelector("#account-info"),c=u.querySelector("#account-id");if(null==i||null==c)throw new Error("Account info not found!");i.textContent="".concat(n),c.textContent="ID: ".concat(a);var d=u.querySelector("#select");if(null==d)throw new Error("select btn");d.addEventListener("click",(function(){t.currentSelected=a,r.textContent="Selected: ".concat(n,"/").concat(a)})),e.appendChild(u),u.style.opacity="0",u.style.transform="translateY(-15px)",u.animate([{transform:"translateY(-15px)",opacity:"0"},{transform:"translateY(0px)",opacity:"1"}],{duration:500,easing:"ease-out",iterations:1,fill:"forwards"}),console.log("Added: ".concat(n))};for(var u in o)a(u)})).catch((function(t){console.error("Error:",t),t instanceof Error?alert("Error: ".concat(t.message)):alert("Error")})))}},{key:"searchEvents",value:function(){var t=this,e=this.win.querySelector("#encrypt-search");null!=e&&e.addEventListener("input",(function(){t.currentSearch=e.value,t.refreshAccounts()}))}},{key:"encryptEvent",value:function(){var t=this,e=this.win.querySelector("#encrypt-btn");if(null!=e){var r=this.win.querySelector("#encrypt-message");null!=r&&e.addEventListener("click",de(ie().mark((function e(){var n,o,a;return ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.currentSelected){e.next=3;break}return alert("Please select an account before encrypting!"),e.abrupt("return");case 3:return t.termsOfServiceAgree(),n=new Z,e.t0=JSON,e.t1=[t.currentSelected],e.t2=r.value,e.next=10,re();case 10:return e.t3=e.sent,e.t4={destination:e.t1,body:e.t2,pwd:e.t3},o=e.t0.stringify.call(e.t0,e.t4),e.next=15,n.safeTunnelEncrypt(o);case 15:return a=e.sent,e.t5=fetch,e.t6="".concat(H,"/api/v1/encryption/encrypt"),e.t7=JSON.stringify(a),e.t8="Bearer ",e.next=22,t.authProvider.getToken();case 22:e.t9=e.sent,e.t10=e.t8.concat.call(e.t8,e.t9),e.t11={Authorization:e.t10,"Content-Type":"application/json"},e.t12={method:"POST",body:e.t7,headers:e.t11},(0,e.t5)(e.t6,e.t12).then((function(t){return t.json()})).then((function(e){if(!e.message||1!=e.success||!e.data)throw new Error(e.message);e.note&&alert("Note: ".concat(e.note));var r="[TeamsPlus Secure Encryption][apiteamsplus.pythonanywhere.com]\\\\\\\\".concat(JSON.stringify(e.data),"\\\\\\\\[RSA-OAEP 2048 // AES-GCM 256 // RSA-PSS] - This message has been digitally signed by the sender."),n=t.win.querySelector("#encrypt-output");n&&(n.value=r),navigator.clipboard.writeText(r),alert("Copied to clipboard")})).catch((function(t){console.error("Error:",t),t instanceof Error?alert("Error: ".concat(t.message)):alert("Error")}));case 27:case"end":return e.stop()}}),e)}))))}}},{key:"isValidEncrypted",value:function(t){var e=t.split("\\\\\\\\");if(3!=e.length)return!1;var r=e[1];try{JSON.parse(r)}catch(t){return!1}finally{return!0}}},{key:"attemptDecrypt",value:(r=de(ie().mark((function t(e){var r,n;return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.termsOfServiceAgree(),r=new Z,t.t0=JSON,t.t1=e.body,t.t2=e.keys,t.t3=e.iv,t.t4=e.signature,t.next=9,re();case 9:return t.t5=t.sent,t.t6=e.author,t.t7={body:t.t1,key:t.t2,iv:t.t3,signature:t.t4,pwd:t.t5,author:t.t6},n=t.t0.stringify.call(t.t0,t.t7),t.t8=fetch,t.t9="".concat(H,"/api/v1/encryption/decrypt"),t.t10=JSON,t.next=18,r.safeTunnelEncrypt(n);case 18:return t.t11=t.sent,t.t12=t.t10.stringify.call(t.t10,t.t11),t.t13="Bearer ",t.next=23,this.authProvider.getToken();case 23:t.t14=t.sent,t.t15=t.t13.concat.call(t.t13,t.t14),t.t16={Authorization:t.t15,"Content-Type":"application/json"},t.t17={method:"POST",body:t.t12,headers:t.t16},(0,t.t8)(t.t9,t.t17).then((function(t){return t.json()})).then(function(){var t=de(ie().mark((function t(e){var n;return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.safeTunnelDecrypt(e.ct,e.iv);case 2:if(!(n=t.sent).message||1!=n.success||!n.data){t.next=7;break}alert("Message was: ".concat(n.data)),t.next=8;break;case 7:throw new Error(n.message);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.error("Error:",t),t instanceof Error?alert("Error: ".concat(t.message)):alert("Error")}));case 28:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"onMessage",value:function(t){var e=this,r=t.querySelector('[id^="content-"]');if(null!=r){console.log(r.ariaLabel);var n=r.ariaLabel||"";if(this.isValidEncrypted(r.ariaLabel||"")&&null==r.querySelector("#decrypt-btn")){var o=D('\n<button type="button" id="decrypt-btn">Decrypt</button>\n');r.appendChild(o),o.addEventListener("click",(function(){try{var t=n.split("\\\\\\\\")[1];e.attemptDecrypt(JSON.parse(t))}catch(t){alert("Failed: ".concat(t))}}))}}else console.log("Mut observer warn: content- element not found under message")}},{key:"messageObserver",value:function(){var t=this,e=new MutationObserver((function(e){var r,n=ae(e);try{for(n.s();!(r=n.n()).done;){var o,a=ae(r.value.addedNodes);try{for(a.s();!(o=a.n()).done;){var u=o.value;u instanceof HTMLElement&&"chat-pane-message"===u.dataset.tid&&(console.log("New chat message detected:",u),t.onMessage(u)),(u instanceof HTMLElement||u instanceof DocumentFragment)&&u.querySelectorAll('[data-tid="chat-pane-message"]').forEach((function(e,r){return t.onMessage(e)}))}}catch(t){a.e(t)}finally{a.f()}}}catch(t){n.e(t)}finally{n.f()}}));console.log("Starting Mutation observer on Body!"),e.observe(document.body,{childList:!0,subtree:!0})}}],e&&le(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,n}();function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function ye(){ye=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var a=e&&e.prototype instanceof v?e:v,u=Object.create(a.prototype),i=new O(n||[]);return o(u,"_invoke",{value:P(t,r,i)}),u}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",p="executing",y="completed",g={};function v(){}function m(){}function b(){}var w={};d(w,u,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==r&&n.call(k,u)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function r(o,a,u,i){var c=s(t[o],t,a);if("throw"!==c.type){var d=c.arg,l=d.value;return l&&"object"==pe(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,u,i)}),(function(t){r("throw",t,u,i)})):e.resolve(l).then((function(t){d.value=t,u(d)}),(function(t){return r("throw",t,u,i)}))}i(c.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function P(e,r,n){var o=f;return function(a,u){if(o===p)throw Error("Generator is already running");if(o===y){if("throw"===a)throw u;return{value:t,done:!0}}for(n.method=a,n.arg=u;;){var i=n.delegate;if(i){var c=F(i,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===f)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var d=s(e,r,n);if("normal"===d.type){if(o=n.done?y:h,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(o=y,n.method="throw",n.arg=d.arg)}}}function F(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,F(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=s(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var u=a.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function B(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(B,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(pe(e)+" is not iterable")}return m.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=d(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,d(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},E(L.prototype),d(L.prototype,i,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new L(l(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},E(S),d(S,c,"Generator"),d(S,u,(function(){return this})),d(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),d=n.call(u,"finallyLoc");if(c&&d){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!d)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=e,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function ge(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}var ve=new g,me=new L(ve),be=new O(ve),we=new A(ve,be);function xe(){var t;return t=ye().mark((function t(){return ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("window loaded, wait for main"),t.next=3,G('[data-tid="app-layout-area--main"]');case 3:return console.log("window found main"),t.next=6,ve.loadColors();case 6:return t.next=8,ve.loadClassColors();case 8:return t.next=10,ve.loadFonts();case 10:return t.next=12,ve.loadPixelValues();case 12:be.applyFonts(null),console.log("Apply colors on win load"),we.detectChange(),me.applyTwemoji(),be.applyColors();case 17:case"end":return t.stop()}}),t)})),xe=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function u(t){ge(a,n,o,u,i,"next",t)}function i(t){ge(a,n,o,u,i,"throw",t)}u(void 0)}))},xe.apply(this,arguments)}new bt(new Ot(ve)),new Zt,new he(new ut),window.onload=function(){return xe.apply(this,arguments)},console.log("Hello")})();